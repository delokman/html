<!DOCTYPE html>
<!-- saved from url=(0112)https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml# -->
<html class="js flexbox flexboxlegacy no-touch websqldatabase indexeddb history csscolumns csstransforms localstorage sessionstorage applicationcache svg inlinesvg zoom fa-events-icons-ready" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#" itemscope="" itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/" data-offline-url="/" data-url="/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml" data-csrf-cookie="csrfsafari" data-highlight-privacy="" data-user-id="6866040" data-user-uuid="39a88cd5-54f5-4d61-aec6-7884d06dfba1" data-username="vrad201" data-account-type="Trial" data-activated-trial-date="04/04/2020" data-archive="9781484226018" data-publishers="Apress" data-htmlfile-name="425975_1_En_2_Chapter.xhtml" data-epub-title="Securing the Perimeter: Deploying Identity and Access Management with Free Open Source Software" data-debug="0" data-testing="0" style="--fade-opacity:1;"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="author" content="Safari Books Online"><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9781484226018"><link rel="shortcut icon" href="https://www.oreilly.com/favicon.ico"><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"><meta property="twitter:account_id" content="4503599627559754"><script id="twitter-wjs" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/widgets.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/cool-2.1.15.min.js"></script><script type="text/javascript" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/510f1a6865"></script><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/nr-1167.min.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/ec.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/2508.js"></script><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/443792972845831" async=""></script><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/1732687426968531" async=""></script><script async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/fbevents.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/f.txt"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/analytics.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/bat.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/f.txt"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/insight.min.js"></script><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/f.txt"></script><script crossorigin="anonymous" integrity="sha256-4ZnAISy2+rbOaVUOBtJrqxBTrJ5kctu9r4qBJBt0Oo0=" type="text/javascript" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/appcues.main.40a6b605d29a66b083aa6d74c07bb73eae19e31b.js" async=""></script><script async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/gtm.js"></script><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={licenseKey:"510f1a6865",applicationID:"172641827"};window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var i=n[t]={exports:{}};e[t][0].call(i.exports,function(n){var i=e[t][1][n];return r(i||n)},i,i.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,n,t){function r(){}function i(e,n,t){return function(){return o(e,[u.now()].concat(f(arguments)),n?null:this,t),n?void 0:this}}var o=e("handle"),a=e(4),f=e(5),c=e("ee").get("tracer"),u=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",d=l+"ixn-";a(p,function(e,n){s[n]=i(l+n,!0,"api")}),s.addPageAction=i(l+"addPageAction",!0),s.setCurrentRouteName=i(l+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,i="function"==typeof n;return o(d+"tracer",[u.now(),e,t],r),function(){if(c.emit((i?"":"no-")+"fn-start",[u.now(),r,i],t),i)try{return n.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],t),e}finally{c.emit("fn-end",[u.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=i(d+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),o("err",[e,u.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){var t=e.getEntries();t.forEach(function(e){"first-paint"===e.name?c("timing",["fp",Math.floor(e.startTime)]):"first-contentful-paint"===e.name&&c("timing",["fcp",Math.floor(e.startTime)])})}function i(e,n){var t=e.getEntries();t.length>0&&c("lcp",[t[t.length-1]])}function o(e){if(e instanceof s&&!l){var n,t=Math.round(e.timeStamp);n=t>1e12?Date.now()-t:u.now()-t,l=!0,c("timing",["fi",t,{type:e.type,fid:n}])}}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var a,f,c=e("handle"),u=e("loader"),s=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){a=new PerformanceObserver(r),f=new PerformanceObserver(i);try{a.observe({entryTypes:["paint"]}),f.observe({entryTypes:["largest-contentful-paint"]})}catch(p){}}if("addEventListener"in document){var l=!1,d=["click","keydown","mousedown","pointerdown","touchstart"];d.forEach(function(e){document.addEventListener(e,o,!1)})}}},{}],3:[function(e,n,t){function r(e,n){if(!i)return!1;if(e!==i)return!1;if(!n)return!0;if(!o)return!1;for(var t=o.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var f=navigator.userAgent,c=f.match(a);c&&f.indexOf("Chrome")===-1&&f.indexOf("Chromium")===-1&&(i="Safari",o=c[1])}n.exports={agent:i,version:o,match:r}},{}],4:[function(e,n,t){function r(e,n){var t=[],r="",o=0;for(r in e)i.call(e,r)&&(t[o]=n(r,e[r]),o+=1);return t}var i=Object.prototype.hasOwnProperty;n.exports=r},{}],5:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,i=t-n||0,o=Array(i<0?0:i);++r<i;)o[r]=e[n+r];return o}n.exports=r},{}],6:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function i(e){function n(e){return e&&e instanceof r?e:e?c(e,f,o):o()}function t(t,r,i,o){if(!l.aborted||o){e&&e(t,r,i);for(var a=n(i),f=v(t),c=f.length,u=0;u<c;u++)f[u].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function d(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||i(t)}function w(e,n){u(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:d,addEventListener:d,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function o(){return new r}function a(){(s.api||s.feature)&&(l.aborted=!0,s=l.backlog={})}var f="nr@context",c=e("gos"),u=e(4),s={},p={},l=n.exports=i();l.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(i.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return e[n]=r,r}var i=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){i.buffer([e],r),i.emit(e,n,t)}var i=e("ee").get("handle");n.exports=r,r.ee=i},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,o,function(){return i++})}var i=1,o="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=E.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();u(y,function(n,t){e[n]||(e[n]=t)}),c("mark",["onload",a()+E.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function i(){"complete"===d.readyState&&o()}function o(){c("mark",["domContent",a()+E.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(f=Math.max((new Date).getTime(),f))-E.offset}var f=(new Date).getTime(),c=e("handle"),u=e(4),s=e("ee"),p=e(3),l=window,d=l.document,m="addEventListener",v="attachEvent",g=l.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:l.setImmediate,CT:clearTimeout,XHR:g,REQ:l.Request,EV:l.Event,PR:l.Promise,MO:l.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1167.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),E=n.exports={offset:f,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),e(2),d[m]?(d[m]("DOMContentLoaded",o,!1),l[m]("load",r,!1)):(d[v]("onreadystatechange",i),l[v]("onload",r)),c("mark",["firstbyte",f],null,"api");var x=0,O=e(6)},{}],"wrap-function":[function(e,n,t){function r(e){return!(e&&e instanceof Function&&e.apply&&!e[a])}var i=e("ee"),o=e(5),a="nr@original",f=Object.prototype.hasOwnProperty,c=!1;n.exports=function(e,n){function t(e,n,t,i){function nrWrapper(){var r,a,f,c;try{a=this,r=o(arguments),f="function"==typeof t?t(r,a):t||{}}catch(u){l([u,"",[r,a,i],f])}s(n+"start",[r,a,i],f);try{return c=e.apply(a,r)}catch(p){throw s(n+"err",[r,a,p],f),p}finally{s(n+"end",[r,a,c],f)}}return r(e)?e:(n||(n=""),nrWrapper[a]=e,p(e,nrWrapper),nrWrapper)}function u(e,n,i,o){i||(i="");var a,f,c,u="-"===i.charAt(0);for(c=0;c<n.length;c++)f=n[c],a=e[f],r(a)||(e[f]=t(a,u?f+i:i,o,f))}function s(t,r,i){if(!c||n){var o=c;c=!0;try{e.emit(t,r,i,n)}catch(a){l([a,t,r,i])}c=o}}function p(e,n){if(Object.defineProperty&&Object.keys)try{var t=Object.keys(e);return t.forEach(function(t){Object.defineProperty(n,t,{get:function(){return e[t]},set:function(n){return e[t]=n,n}})}),n}catch(r){l([r])}for(var i in e)f.call(e,i)&&(n[i]=e[i]);return n}function l(n){try{e.emit("internal-error",n)}catch(t){}}return e||(e=i),t.inPlace=u,t.flag=a,t}},{}]},{},["loader"]);</script><link rel="shortcut icon" href="https://learning.oreilly.com/favicon.ico" type="image/x-icon"><link href="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/css" rel="stylesheet" type="text/css"><title>2.&nbsp;LDAP - Securing the Perimeter: Deploying Identity and Access Management with Free Open Source Software</title><link rel="stylesheet" href="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/output.8054605313ed.css" type="text/css"><link rel="stylesheet" type="text/css" href="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/annotator.e3b0c44298fc.css"><link rel="stylesheet" href="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/font-awesome.min.css"><style type="text/css" title="ibis-book">
    #sbo-rt-content a{text-decoration:none}#sbo-rt-content a:link,#sbo-rt-content a:active{color:#0176C3}#sbo-rt-content a:visited{color:#5f5f5f}#sbo-rt-content div{font-family:"Cambria","Minion Pro","Times New Roman","Times",serif;}#sbo-rt-content img{border:0;vertical-align:middle}#sbo-rt-content video{display:block;margin-top:1em;max-width:100%;text-indent:0;width:100%}#sbo-rt-content p{margin:0}#sbo-rt-content .Heading,#sbo-rt-content .SubHeading,#sbo-rt-content .ContextInformation,#sbo-rt-content .MainTitleSection,#sbo-rt-content .PartTitle,#sbo-rt-content .SeriesTitle,#sbo-rt-content .SeriesSubTitle,#sbo-rt-content .SubSeriesTitle,#sbo-rt-content .SubSeriesSubTitle,#sbo-rt-content .BookTitle,#sbo-rt-content .BookSubTitle,#sbo-rt-content .ForewordTitle,#sbo-rt-content .PrefaceTitle,#sbo-rt-content .BookAcknowledgmentsTitle,#sbo-rt-content .BookNotesTitle{text-align:left !important}#sbo-rt-content .Heading,#sbo-rt-content .SubHeading{display:block;font-weight:bold}#sbo-rt-content .ArticleContextInformation{border-bottom:1px solid;margin-bottom:.8em;padding-bottom:.3em}#sbo-rt-content .ArticleContextInformation .ContextInformation{display:block;font-size:80%}#sbo-rt-content .ArticleContextInformation .JournalTitle:after,#sbo-rt-content .ArticleContextInformation .JournalSubTitle:after{content:", "}#sbo-rt-content .ArticleCopyright{display:inline}#sbo-rt-content .ArticleCopyright .CopyrightComment,#sbo-rt-content .ArticleContextInformation .ArticleDOI{display:block}#sbo-rt-content .ChapterContextInformation{border-bottom:1px solid;margin-bottom:.8em;padding-bottom:.3em}#sbo-rt-content .ChapterContextInformation .ContextInformation{display:block;font-size:80%}#sbo-rt-content .ChapterCopyright .CopyrightComment{display:block}#sbo-rt-content .ChapterContextInformation .BookEdition:before{content:", "}#sbo-rt-content .ChapterContextInformation .ContextInformationAuthorEditorNames:after{content:", "}#sbo-rt-content .ChapterContextInformation .BookTitle{font-style:italic}#sbo-rt-content .ChapterContextInformation .SeriesTitle:before{content:", "}#sbo-rt-content .ChapterContextInformation .SeriesSubTitle:before{content:": "}#sbo-rt-content .ChapterContextInformation .ContextInformationVolumeNumber:before{content:" "}#sbo-rt-content .ChapterContextInformation .ChapterDOI{display:block}#sbo-rt-content .Categories{color:#666;margin-bottom:1em;margin-top:1em}#sbo-rt-content .ArticleCategory,#sbo-rt-content .ChapterCategory{font-size:1.2rem}#sbo-rt-content .ArticleSubCategory,#sbo-rt-content .ChapterSubCategory{font-size:1rem}#sbo-rt-content .MainTitleSection{font-weight:bold;margin-bottom:1.2em;margin-top:1.2em}#sbo-rt-content .ArticleSuperTitle{font-size:1.2rem}#sbo-rt-content .MainTitleSection .ArticleTitle,#sbo-rt-content .ForeignLanguageHeader .ArticleTitle,#sbo-rt-content .MainTitleSection .ChapterTitle,#sbo-rt-content .ForeignLanguageHeader .ChapterTitle{font-size:1.73rem;margin:0}#sbo-rt-content .ArticleSubTitle,#sbo-rt-content .ChapterSubTitle{font-size:1.2rem;padding-top:.2em}#sbo-rt-content div>.AuthorGroup .AuthorNames,#sbo-rt-content .BookBackmatter>.AuthorGroup .AuthorNames{font-size:100%;margin-bottom:1em;margin-top:1em;text-align:left !important}#sbo-rt-content .BookBackmatter>.AuthorGroup .AuthorNames{font-weight:bold}#sbo-rt-content .AuthorNames sup{font-size:70%}#sbo-rt-content .Prefix:after{content:" "}#sbo-rt-content .Suffix:before{content:" "}#sbo-rt-content .Degrees:before{content:", "}#sbo-rt-content .NativeName:before,#sbo-rt-content .Role:before{content:" ("}#sbo-rt-content .NativeName:after,#sbo-rt-content .Role:after{content:")"}#sbo-rt-content .AffiliationNumber{float:left;padding-right:.5em}#sbo-rt-content .AffiliationText{margin-left:2em}#sbo-rt-content .AffiliationHint{font-style:italic}#sbo-rt-content .AuthorNames .DeceasedSymbol:before{content:"†";padding-left:3px}#sbo-rt-content .AuthorNames .EqualContributionSymbol:before{content:"*";padding-left:3px}#sbo-rt-content .InstitutionMembers:before{content:" ("}#sbo-rt-content .InstitutionMembers:after{content:")"}#sbo-rt-content .AffiliationLegend .DeceasedSymbol:before{content:"†";display:inline-block;width:14px}#sbo-rt-content .AffiliationLegend .EqualContributionSymbol:before{content:"*";display:inline-block;width:14px}#sbo-rt-content .ClearBoth{clear:both;font-size:0;line-height:0 !important}#sbo-rt-content .Contact,#sbo-rt-content .AffiliationLegend{margin-bottom:1em;margin-top:1em}#sbo-rt-content .ContactIcon{background-image:url(envelope.png);background-repeat:no-repeat;background-size:contain;width:.8rem}#sbo-rt-content .AuthorNames .ContactIcon{display:inline-block}#sbo-rt-content .Contact .ContactIcon{float:left;margin-top:4px;margin-right:4px}#sbo-rt-content .ContactAuthorLine{padding-left:20px;font-weight:bold}#sbo-rt-content .ContactAdditionalLine{padding-left:20px}#sbo-rt-content .ContactType{font-weight:bold}#sbo-rt-content .ArticleHistory{margin-bottom:1em;margin-top:1em}#sbo-rt-content .HistoryLabel{font-weight:bold}#sbo-rt-content .History+.History{padding-left:.5em}#sbo-rt-content .ArticleOrChapterToc{border-top:1px solid #bbb;margin-top:1em;padding-top:1em}#sbo-rt-content .ArticleOrChapterToc .HeadingNumber{font-weight:bold;padding-right:.3em}#sbo-rt-content .Abstract{margin-top:1em}#sbo-rt-content .Abstract>.Heading{font-size:1em;margin:0}#sbo-rt-content .AbstractSection{margin-top:.3em}#sbo-rt-content .Heading+.AbstractSection{margin-top:0}#sbo-rt-content .AbstractSection>.Heading{font-size:1em;font-style:italic;font-weight:normal;margin:0}#sbo-rt-content .KeywordGroup{margin-top:1em}#sbo-rt-content .KeywordGroup .Heading{display:inline;font-size:1em;margin:0;padding-right:.5em}#sbo-rt-content .Keyword+.Keyword:before{content:" – "}#sbo-rt-content .ArticleExternalID{margin-top:1em}#sbo-rt-content .ArticleExternalIDLabel{font-weight:bold}#sbo-rt-content .ForeignLanguageHeader{border-top:1px solid #bbb;margin-top:1em}#sbo-rt-content .ForeignLanguageTitleSection{font-weight:bold;margin-bottom:1.2em;margin-top:1rem}#sbo-rt-content .AbbreviationGroup{margin-top:1em}#sbo-rt-content .ForeignLanguageHeader+.AbbreviationGroup{border-top:1px solid #bbb;margin-top:1em;padding-top:1em}#sbo-rt-content .AbbreviationGroup>.Heading{font-size:1em;margin:0}#sbo-rt-content .AbbreviationGroup .DefinitionList{margin-top:0;margin-bottom:0;padding-right:.1em;padding-top:.1em;padding-bottom:.1em}#sbo-rt-content .AbbreviationGroupSection>.Heading{font-size:1em;margin:0;padding-top:.2em}#sbo-rt-content .ArticleNote{margin-top:1em}#sbo-rt-content .ArticleNote>.Heading{font-size:1em;margin:0}#sbo-rt-content .ArticleNoteMotto{font-style:italic;margin-left:1.5em;margin-right:1.5em;text-align:right}#sbo-rt-content .Biography{display:block;margin-top:.8em;padding-bottom:0;width:100%}#sbo-rt-content .Loc .AuthorGroup .Biography{margin-top:0}#sbo-rt-content .Biography .FormalPara,#sbo-rt-content .Biography .BiographyFigure{display:block;margin-top:0;margin-bottom:0}#sbo-rt-content .Biography .BiographyFigure{float:right;margin-left:6px}#sbo-rt-content .Biography .Figure{border-bottom:none;margin-top:.5em;margin-bottom:0}#sbo-rt-content .Fulltext>.Para:first-of-type>.BlockQuote:first-child{margin-top:0}#sbo-rt-content .BlockQuote{margin:1em 1.5em}#sbo-rt-content .BlockQuote>.Heading{font-size:1em;margin-top:1em;margin-bottom:0;text-indent:0}#sbo-rt-content .BlockQuote>.Para{text-indent:0}#sbo-rt-content .Heading+.Para>.BlockQuote:first-child{margin-top:0}#sbo-rt-content .Caption,#sbo-rt-content .TableFooter{display:block;text-align:left}#sbo-rt-content .TableFooter .SimplePara+.SimplePara{text-indent:0}#sbo-rt-content .Caption{margin-top:.5em}#sbo-rt-content .CaptionContent{font-size:90%}#sbo-rt-content .TableFooter{margin-top:1em}#sbo-rt-content .Table .Caption{margin-top:.5em}#sbo-rt-content .Figure .Caption,#sbo-rt-content video+.Caption{margin-bottom:1em}#sbo-rt-content .Table .Caption{margin-bottom:.5em}#sbo-rt-content .CaptionNumber{font-style:italic;font-weight:bold;padding-right:.6em}#sbo-rt-content .CaptionContent>span.Heading{display:inline}#sbo-rt-content .CaptionContent>span.SimplePara{display:block}#sbo-rt-content .CaptionContent>.SimplePara:first-child,#sbo-rt-content .CaptionContent>.CaptionNumber+.SimplePara,#sbo-rt-content .CaptionContent>a+.SimplePara{display:inline;margin-top:0}#sbo-rt-content .Credit>.SimplePara{text-indent:1.5em}#sbo-rt-content .DefinitionList{margin-top:1em;margin-bottom:1em;padding:.1em}#sbo-rt-content .DefinitionList>.Heading{font-size:1rem;margin:0;text-indent:0}#sbo-rt-content dl{margin:0}#sbo-rt-content .DefinitionList:after{content:"";clear:both;display:table}#sbo-rt-content .Term{clear:both;float:left;font-style:italic;padding-right:1em;text-indent:0;vertical-align:top}#sbo-rt-content .Description{padding-bottom:.3em;margin-left:0}#sbo-rt-content .Description .Para:first-child{text-indent:0}#sbo-rt-content .Heading+.Para>div.DefinitionList:first-child{margin-top:0}#sbo-rt-content .EmphasisTypeBold{font-weight:bold}#sbo-rt-content .EmphasisTypeItalic{font-style:italic}#sbo-rt-content .EmphasisTypeUnderline{text-decoration:underline}#sbo-rt-content .EmphasisTypeDoubleUnderline{border-bottom-style:double}#sbo-rt-content .EmphasisTypeSmallCaps{font-variant:small-caps}#sbo-rt-content .EmphasisTypeBoldItalic{font-weight:bold;font-style:italic}#sbo-rt-content .EmphasisTypeBoldUnderline{font-weight:bold;text-decoration:underline}#sbo-rt-content .EmphasisTypeBoldDoubleUnderline{font-weight:bold;border-bottom-style:double}#sbo-rt-content .EmphasisTypeBoldSmallCaps{font-weight:bold;font-variant:small-caps}#sbo-rt-content .EmphasisTypeItalicUnderline{font-style:italic;text-decoration:underline}#sbo-rt-content .EmphasisTypeItalicDoubleUnderline{font-style:italic;border-bottom-style:double}#sbo-rt-content .EmphasisTypeItalicSmallCaps{font-style:italic;font-variant:small-caps}#sbo-rt-content .EmphasisTypeBoldItalicUnderline{font-weight:bold;font-style:italic;text-decoration:underline}#sbo-rt-content .EmphasisTypeBoldItalicDoubleUnderline{font-weight:bold;font-style:italic;border-bottom-style:double}#sbo-rt-content .EmphasisTypeBoldItalicSmallCaps{font-weight:bold;font-style:italic;font-variant:small-caps}#sbo-rt-content .EmphasisTypeUnderlineSmallCaps{text-decoration:underline;font-variant:small-caps}#sbo-rt-content .EmphasisTypeDoubleUnderlineSmallCaps{border-bottom-style:double;font-variant:small-caps}#sbo-rt-content .EmphasisFontCategoryNonProportional{font-family:"Courier New",Courier,monospace}#sbo-rt-content :not(.ParaTypeProgramcode)>.EmphasisFontCategoryNonProportional{font-size:95%}#sbo-rt-content .EmphasisFontCategorySansSerif{font-family:"Arial","Helvetica",sans-serif;font-size:75%}#sbo-rt-content .EmphasisTypeStrikethrough{text-decoration:line-through}#sbo-rt-content .Equation{display:block;text-indent:0;vertical-align:middle}#sbo-rt-content .NumberedEquation{display:table;width:100%}#sbo-rt-content .NumberedEquation .EquationWrapper{display:table-row}#sbo-rt-content .NumberedEquation .EquationContent{display:table-cell}#sbo-rt-content .EquationContent{margin-top:.5em;margin-bottom:0;width:100%;text-align:center;text-indent:0;vertical-align:middle}#sbo-rt-content .EquationContent div{margin-top:.5em}#sbo-rt-content .EquationContent .MediaObject{margin-left:auto;margin-right:auto}#sbo-rt-content .EquationContent img{background:white;max-width:100%}#sbo-rt-content .EquationNumber{display:table-cell;margin-bottom:.4em;text-align:right;vertical-align:middle}#sbo-rt-content .EquationSourceXml{white-space:nowrap}#sbo-rt-content .InlineEquation img{background:white;vertical-align:text-top}#sbo-rt-content .Figure{margin-top:1em;margin-bottom:1em;margin-left:0;margin-right:0;text-align:center;text-indent:0}#sbo-rt-content .Figure img{height:auto;margin:0;max-width:100%;padding:2px}#sbo-rt-content .MediaObject{display:block;text-align:center}#sbo-rt-content .MediaObject:last-child{margin-bottom:1em}#sbo-rt-content .EquationContent>.MediaObject:last-child{margin-bottom:0}#sbo-rt-content .MediaObject+.MediaObject{margin-top:1em}#sbo-rt-content .FootnoteSection{border-top:1px solid #bbb;margin-top:1em}#sbo-rt-content .FootnoteSection>.Heading{font-size:1.44rem;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Footnote{clear:both;font-size:90%;text-align:left}#sbo-rt-content .FootnoteNumber{float:left;padding-right:.5em}#sbo-rt-content .FootnoteParas>div{margin-left:1em;margin-top:.3em}#sbo-rt-content .FormalPara{margin-top:1em;margin-bottom:1em}#sbo-rt-content .FormalPara .Heading{font-size:1em;margin:0}#sbo-rt-content .FormalParaRenderingStyle1>.Heading{display:inline;padding-right:1em}#sbo-rt-content .FormalParaRenderingStyle2>.Heading{display:inline;font-style:italic;font-weight:normal;padding-right:1em}#sbo-rt-content .FormalParaRenderingStyle3>.Heading{padding-right:1em}#sbo-rt-content .FormalParaRenderingStyle1>p:first-of-type,#sbo-rt-content .FormalParaRenderingStyle2>p:first-of-type{display:inline}#sbo-rt-content .Heading+.FormalPara{margin-top:0}#sbo-rt-content .FormalPara .AuthorNames{font-style:italic;font-weight:normal !important}#sbo-rt-content .HeadingNumber{padding-right:.3em}#sbo-rt-content .RenderAsSection1>.Heading{font-size:1.44rem;margin-top:.5em;margin-bottom:.1em}#sbo-rt-content .RenderAsSection2>.Heading{font-size:1.2rem;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Heading+.Section2>.Heading:first-child{margin-top:0}#sbo-rt-content .RenderAsSection3>.Heading{font-size:1.2rem;font-style:italic;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Heading+.Section3>.Heading:first-child{margin-top:0}#sbo-rt-content .RenderAsSection4>.Heading{font-size:100%;font-style:italic;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Heading+.Section4>.Heading:first-child{margin-top:0}#sbo-rt-content .RenderAsSection5>.Heading{font-size:100%;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Heading+.Section5>.Heading:first-child{margin-top:0}#sbo-rt-content .RenderAsSection6>.Heading{font-size:100%;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Heading+.Section6>.Heading:first-child{margin-top:0}#sbo-rt-content .RenderAsSection7>.Heading{font-size:100%;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .Heading+.Section7>.Heading:first-child{margin-top:0}#sbo-rt-content .Literal{font-family:"Courier New",Courier,monospace}#sbo-rt-content .OrderedList{margin-top:.5em;margin-bottom:.5em;text-indent:0;display:table}#sbo-rt-content .OrderedList>ol{margin:0;padding:0}#sbo-rt-content .OrderedList .Heading{font-size:1em;font-style:italic;font-weight:normal;margin-top:0;margin-bottom:0;display:table-caption}#sbo-rt-content .OrderedList .Heading+.ListItem{margin-top:0}#sbo-rt-content .Heading+.Para>div.OrderedList:first-child,#sbo-rt-content .Heading+.Para>div.OrderedList:first-child>.Heading{margin-top:0}#sbo-rt-content .ListItem{margin-top:.5em;display:table-row}#sbo-rt-content .ItemNumber{padding-right:.5em;display:table-cell;vertical-align:top}#sbo-rt-content .ItemContent{display:table-cell}#sbo-rt-content .Fulltext>.Para:first-of-type{border-top:1px solid #bbb;margin-top:1em;padding-top:1em}#sbo-rt-content .Fulltext>.Para~.Para:first-of-type{border-top:none;margin-top:0;padding-top:0}#sbo-rt-content .Para+.Para{margin-top:0;text-indent:1.5em}#sbo-rt-content .ParaTextBreak{margin-top:1em !important;text-indent:0 !important}#sbo-rt-content .ParaTypeExample{border-left:4px solid;padding-left:.5em;margin-top:1em !important;margin-bottom:1em}#sbo-rt-content .ParaTypeEyeCatcher,#sbo-rt-content .ParaTypeTip{border-left:4px solid;padding-left:.5em;margin-top:1em !important;margin-bottom:.5em}#sbo-rt-content .ParaTypeImportant{background:#bbb;border:2px solid;padding:.5em;margin-top:.8em !important;margin-bottom:.8em}#sbo-rt-content .ParaTypeImportant img{background-color:transparent}#sbo-rt-content .ParaTypeGeneticSequence,#sbo-rt-content .ParaTypeLiteral,#sbo-rt-content .ParaTypeProgramcode{font-family:"Courier New",Courier,monospace;font-size:95%}#sbo-rt-content .ParaTypeProgramcode{text-indent:0 !important;word-wrap:break-word}#sbo-rt-content .Para:not(.ParaTypeProgramcode)+.ParaTypeProgramcode{margin-top:.5em}#sbo-rt-content .ParaTypeProgramcode+.Para:not(.ParaTypeProgramcode){margin-top:.5em}#sbo-rt-content .ParaTypeLegalText{font-weight:bold;margin-left:1em;text-align:left}#sbo-rt-content .ParaTypeOverview,#sbo-rt-content .ParaTypeAnswers,#sbo-rt-content .ParaTypeQuestions,#sbo-rt-content .ParaTypeDefinition,#sbo-rt-content .ParaTypeProcedure,#sbo-rt-content .ParaTypeRecipe{border:2px solid;margin-top:.8em !important;margin-bottom:.8em;padding:.5em}#sbo-rt-content .ParaTypeSource{font-style:italic}#sbo-rt-content .ParaTypeTrailer,#sbo-rt-content .ParaTypeLearningGoals{font-weight:bold;padding-left:.5em;padding-right:.5em}#sbo-rt-content .ParaTypeWarning{font-weight:bold}#sbo-rt-content .ParaTypeExample,#sbo-rt-content .ParaTypeEyeCatcher,#sbo-rt-content .ParaTypeImportant,#sbo-rt-content .ParaTypeLegalText,#sbo-rt-content .ParaTypeOverview,#sbo-rt-content .ParaTypeTip,#sbo-rt-content .ParaTypeAnswers,#sbo-rt-content .ParaTypeQuestions,#sbo-rt-content .ParaTypeDefinition,#sbo-rt-content .ParaTypeProcedure,#sbo-rt-content .ParaTypeRecipe{text-indent:0 !important}#sbo-rt-content .Para+.ParaOneEmphasisChild{margin-top:1em;text-indent:0 !important}#sbo-rt-content .ParaOneEmphasisChild+.Para{text-indent:0 !important}#sbo-rt-content .PartNumber{display:block;font-size:1.73rem}#sbo-rt-content .PartTitle{display:block;font-size:1.73rem}#sbo-rt-content .SubPartTitle{display:block;font-size:1.44rem}#sbo-rt-content .ProgramCode{margin-top:1em;margin-bottom:1em}#sbo-rt-content .ProgramCode .FixedLine{font-family:"Courier New",Courier,monospace;font-size:95%;word-wrap:break-word}#sbo-rt-content .LineGroup+.LineGroup{margin-top:1em}#sbo-rt-content .Heading+.Para>.Quiz>.Heading{margin-top:0;}#sbo-rt-content .Quiz .Heading{font-size:1rem;margin-top:1em;margin-bottom:0;text-indent:0}#sbo-rt-content .QuizTask{display:table;margin-top:.5em;margin-bottom:.5em;width:100%;text-indent:0}#sbo-rt-content .QuizTask+.QuizTask{margin-top:1.5em}#sbo-rt-content .QuizItem{padding:.1em}#sbo-rt-content .QuizItemTypeSolution{border:2px solid #aaa;margin-top:.5em;padding:10px}#sbo-rt-content .QuizTask>input{display:none}#sbo-rt-content .QuizItem>label{color:#0176C3}#sbo-rt-content .QuizTask>input~.QuizItem>label+div{display:none}#sbo-rt-content .QuizTask>input:checked~.QuizItem>label+div{display:table-cell}#sbo-rt-content .QuizTask>input~.QuizItem>label:after{content:"  »"}#sbo-rt-content .QuizTask>input:checked~.QuizItem>label:after{content:"  «"}#sbo-rt-content .QuizTask>input~.QuizItemTypeCorrectAnswer{background-color:transparent;transition:background .4s}#sbo-rt-content .QuizTask>input:checked~.QuizItemTypeCorrectAnswer{background-color:#EAF2DB;transition:background .4s}#sbo-rt-content .ReviewTitle{font-weight:bold;margin-top:1em;text-indent:0}#sbo-rt-content .Review .AuthorName+.AuthorName:before{content:", "}#sbo-rt-content .Review .ISBN,#sbo-rt-content .ReviewDataUnstructured{text-indent:0}#sbo-rt-content .Review .Para:first-of-type{margin-top:1em;text-indent:0}#sbo-rt-content .BookBackmatter>.Appendix:first-child>div:first-child{border-top:none !important;margin-top:0 !important;padding-top:0 !important}#sbo-rt-content .BookAcknowledgmentsBody>.RenderAsSection1:first-child,#sbo-rt-content .BookNotesBody>.RenderAsSection1:first-child,#sbo-rt-content .ForewordBody>.RenderAsSection1:first-child,#sbo-rt-content .PrefaceBody>.RenderAsSection1:first-child,#sbo-rt-content .BookBackmatter>.Appendix:first-child>.RenderAsSection1:first-child{border-top:none;margin-top:0}#sbo-rt-content .BookAcknowledgmentsBody>.RenderAsSection1:first-child>.Heading,#sbo-rt-content .ForewordBody>.RenderAsSection1:first-child>.Heading,#sbo-rt-content .PrefaceBody>.RenderAsSection1:first-child>.Heading{margin-top:0}#sbo-rt-content .Section1 .AuthorNames,#sbo-rt-content .Section2 .AuthorNames,#sbo-rt-content .Section3 .AuthorNames{font-weight:bold;margin-top:.3em;margin-bottom:.5em}#sbo-rt-content .Section1 .AuthorNames sup,#sbo-rt-content .Section2 .AuthorNames sup,#sbo-rt-content .Section3 .AuthorNames sup{font-size:70%}#sbo-rt-content .Section1 .Affiliations,#sbo-rt-content .Section2 .Affiliations,#sbo-rt-content .Section3 .Affiliations{margin-bottom:.5em}#sbo-rt-content .SectionTypeBackgroundInformation,#sbo-rt-content .SectionTypeExcurse{font-size:90%}#sbo-rt-content .SectionTypeBox,#sbo-rt-content .SectionTypeOverview,#sbo-rt-content .SectionTypeQuestionnaire{background-color:#BBB;margin-top:1em !important;padding:.5em}#sbo-rt-content .SectionTypeCaseStudy,#sbo-rt-content .SectionTypeExample,#sbo-rt-content .SectionTypeTip{border-left:4px solid;margin-top:1em !important;padding-top:0;padding-left:.5em;padding-right:.5em;padding-bottom:.5em}#sbo-rt-content .SectionTypeTrailer,#sbo-rt-content .SectionTypeLearningGoals{font-weight:bold;text-align:left}#sbo-rt-content .SectionTypeLegalText{font-weight:bold;margin-left:1em;text-align:left;text-indent:0 !important}#sbo-rt-content .SectionTypeProcedure,#sbo-rt-content .SectionTypeRecipe{border:2px solid;margin-top:.8em !important;margin-bottom:.8em;padding:.5em}#sbo-rt-content .SectionTypeWarning{font-weight:bold}#sbo-rt-content .RenderAsSection1{border-top:1px solid #bbb;margin-top:1em}#sbo-rt-content .SectionTypeBox+.RenderAsSection1,#sbo-rt-content .SectionTypeOverview+.RenderAsSection1,#sbo-rt-content .SectionTypeQuestionnaire+.RenderAsSection1{border-top:0;}#sbo-rt-content .SectionTypeBox>.Heading,#sbo-rt-content .SectionTypeOverview>.Heading,#sbo-rt-content .SectionTypeQuestionnaire>.Heading,#sbo-rt-content .SectionTypeProcedure>.Heading,#sbo-rt-content .SectionTypeRecipe>.Heading{margin-top:0}#sbo-rt-content .InternalRefSidebarLexicon{background-image:url(sidebar.gif);background-repeat:no-repeat;font-weight:bold;padding-left:20px}#sbo-rt-content .SidebarDialog{border:1px solid;margin-left:1.5em;margin-top:.4em;margin-bottom:.2em;padding:.2em;text-indent:0}#sbo-rt-content .SidebarNumber{font-weight:bold;padding-right:.5em}#sbo-rt-content .SimplePara+.SimplePara{margin-top:0;text-indent:1.5em}#sbo-rt-content .Stack{display:inline-table;vertical-align:top}#sbo-rt-content .Stack sub{display:table-row}#sbo-rt-content .Stack sup{display:table-header-group}#sbo-rt-content table{border-collapse:collapse;font-size:80%;max-width:100%;text-indent:0}#sbo-rt-content table .SimplePara+.SimplePara{text-indent:0}#sbo-rt-content table,#sbo-rt-content tr,#sbo-rt-content td{border-color:#bbb !important}#sbo-rt-content th{border-color:#999 !important}#sbo-rt-content thead{background:#bbb;color:#000 !important}#sbo-rt-content .Table{margin-bottom:1em;text-indent:0}#sbo-rt-content .Caption .Table{margin-bottom:0}#sbo-rt-content .Table img{height:auto;margin:0;max-width:100%}#sbo-rt-content th div{text-align:left}#sbo-rt-content td div,#sbo-rt-content td p,#sbo-rt-content th div,#sbo-rt-content th p{padding:.2em}#sbo-rt-content .Para+.Table,#sbo-rt-content .Para>.Table{margin-top:1em}#sbo-rt-content .SimplePara>.Table{margin-top:.5em}#sbo-rt-content thead,#sbo-rt-content tdiv{vertical-align:top}#sbo-rt-content tbody+tbody tr:first-child td{padding-top:1em}#sbo-rt-content .ExternalTable{background-color:#F8F8F8;border-top:1px solid;border-bottom:1px solid;margin-top:1em;margin-bottom:1em;padding-top:0;padding-bottom:0}#sbo-rt-content .ExternalTable .Table{padding-bottom:.3em}#sbo-rt-content .UnorderedList>.Heading{font-size:1em;font-style:italic;font-weight:normal;margin-top:0;margin-bottom:0}#sbo-rt-content .Heading+.Para>div.UnorderedList:first-child>.Heading{margin-top:0}#sbo-rt-content .UnorderedList li .Para:first-child{text-indent:0}#sbo-rt-content .Heading+ul{margin-top:0}#sbo-rt-content ul{margin-top:.5em;margin-bottom:.5em}#sbo-rt-content ul.UnorderedListMarkBullet{list-style-type:disc;padding-left:1em}#sbo-rt-content ul.UnorderedListMarkBullet div{margin-bottom:.3em}#sbo-rt-content ul.UnorderedListMarkBullet .Equation div{margin-bottom:0}#sbo-rt-content ul.UnorderedListMarkNone{list-style-type:none;padding-left:1em}#sbo-rt-content ul.UnorderedListMarkNone div{margin-bottom:.3em}#sbo-rt-content ul.UnorderedListMarkNone .Equation div{margin-bottom:0}#sbo-rt-content ul.UnorderedListMarkDash{list-style:none;padding-left:1.1em;text-indent:-.8em}#sbo-rt-content ul.UnorderedListMarkDash>li>*:first-child{display:inline}#sbo-rt-content ul.UnorderedListMarkDash div{text-indent:0;margin-top:.3em;margin-bottom:.3em}#sbo-rt-content ul.UnorderedListMarkDash>li:before{content:"– "}#sbo-rt-content .Verse{margin-top:1em;margin-bottom:1em}#sbo-rt-content .Verse .Heading{font-size:1rem;margin-top:1em;margin-bottom:1em;text-indent:0}#sbo-rt-content .Acknowledgments,#sbo-rt-content .AuthorContribution,#sbo-rt-content .Ethics{margin-top:1em}#sbo-rt-content .Acknowledgments>.Heading,#sbo-rt-content .AuthorContribution>.Heading,#sbo-rt-content .FundingInformation>.Heading,#sbo-rt-content .DataAvailability>.Heading,#sbo-rt-content .Ethics>.Heading{font-size:1.2rem;margin-bottom:0}#sbo-rt-content .License{font-size:.9rem !important;margin-top:1em;margin-bottom:1em}#sbo-rt-content .License>a:first-child img{float:left;height:1.9rem;padding-right:.5em;padding-bottom:0;padding-top:.2em}#sbo-rt-content .Glossary{border-top:1px solid #bbb;margin-top:1em;margin-bottom:1em;padding-top:.3em}#sbo-rt-content .Glossary .Headings{margin-top:.8em;margin-bottom:.8em}#sbo-rt-content .Glossary>.Headings>.Heading{font-size:1.44rem;margin:0}#sbo-rt-content .Glossary>.Headings>.SubHeading{font-size:1.2rem}#sbo-rt-content .GlossarySection .Headings{margin-top:.8em;margin-bottom:.4em}#sbo-rt-content .GlossarySection>.Headings>.Heading{font-size:1.2rem;margin:0}#sbo-rt-content .GlossarySection>.Headings>.SubHeading{font-size:100%}#sbo-rt-content .GlossaryTerm{float:left;font-style:italic;padding-right:.5em}#sbo-rt-content .GlossarySeeLabel,#sbo-rt-content .GlossarySeeAlsoLabel{font-style:italic;padding-right:.3em}#sbo-rt-content .GlossaryDef{display:inline;margin-top:.3em}#sbo-rt-content .GlossaryDef>.SimplePara,#sbo-rt-content .GlossaryDef>.GlossarySee,#sbo-rt-content .GlossaryDef>.GlossarySeeAlso{display:block}#sbo-rt-content .GlossaryDef>:first-child{display:inline;margin-top:0;margin-left:0}#sbo-rt-content .GlossaryDef .SimplePara+.GlossarySee,#sbo-rt-content .GlossaryDef .SimplePara+.GlossarySeeAlso{text-indent:0}#sbo-rt-content .GlossaryTerm{display:inline}#sbo-rt-content .GlossaryTerm+.GlossarySee,#sbo-rt-content .GlossaryTerm+.GlossarySeeAlso{display:inline}#sbo-rt-content .InternalRefGlossaryEntry{border-bottom:thin dotted;cursor:help}#sbo-rt-content .InternalRefGlossaryEntry:hover{border-bottom:none}#sbo-rt-content .InternalRefGlossaryEntry a:link,#sbo-rt-content .InternalRefGlossaryEntry a:active,#sbo-rt-content .InternalRefGlossaryEntry a:visited{color:inherit}#sbo-rt-content .InternalRefGlossaryEntry .InlineGlossaryDefinition{background:#fff;display:none;margin:0 3em 0 2em;padding:3px 3px 3px 6px;border-style:solid;border-color:#49546F;border-width:2px;border-radius:5px;box-shadow:5px 5px 5px #888}#sbo-rt-content .InternalRefGlossaryEntry:hover .InlineGlossaryDefinition{display:block;z-index:6}#sbo-rt-content .TocAppendix{border-top:1px solid #bbb;margin-top:1em;padding-top:1em}#sbo-rt-content .BookContextInformation+.Appendix>.TocAppendix:first-child{border-top:none;padding-top:0}#sbo-rt-content .TocAppendix .Headings{margin-bottom:.5em}#sbo-rt-content .TocAppendix>.Headings>.Heading{font-size:1.44rem;margin:0}#sbo-rt-content .TocAppendix>.Headings>.SubHeading{font-size:1.2rem}#sbo-rt-content .TocEntry,#sbo-rt-content .TocPart,#sbo-rt-content .TocBack{margin-top:.5em;text-align:left !important}#sbo-rt-content .TocItem{font-weight:bold}#sbo-rt-content .TocPageNumber{display:none}#sbo-rt-content .TocAuthors{padding-left:1.5em}#sbo-rt-content .TocSection1,#sbo-rt-content .TocSection2,#sbo-rt-content .TocSection3,#sbo-rt-content .TocSection4,#sbo-rt-content .TocSection5,#sbo-rt-content .TocSection6,#sbo-rt-content .TocSection7{padding-left:1.5em}#sbo-rt-content .Index{border-top:1px solid #bbb;margin-top:1em;padding-top:.3em;margin-bottom:.8em}#sbo-rt-content .BookBackmatter>.Index:first-child{border-top:none;margin-top:0}#sbo-rt-content .Index .Headings{margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .BookBackmatter>.Index:first-child>.Headings{margin-top:0}#sbo-rt-content .Index>.Headings>.Heading{font-size:1.44rem;margin:0}#sbo-rt-content .Index>.Headings>.SubHeading{font-size:1.2rem}#sbo-rt-content .IndexDiv .Headings{margin-top:.5em;margin-bottom:.1em}#sbo-rt-content .IndexDiv>.Headings>.Heading{font-size:1.2rem;margin:0}#sbo-rt-content .IndexDiv>.Headings>.SubHeading{font-size:100%;font-style:italic}#sbo-rt-content .IndexEntrySeeLabel{font-style:italic;margin-left:1em;padding-right:.3em}#sbo-rt-content .SecondaryIE{margin-left:1em}#sbo-rt-content .TertiaryIE{margin-left:2em}#sbo-rt-content .ChangeHistory{border-top:1px solid #bbb;margin-top:1em}#sbo-rt-content .ChangeHistory>.Heading{font-size:1.44rem;margin-top:.8em;margin-bottom:.3em}#sbo-rt-content .ChangeDate{font-weight:bold;padding-right:1em}#sbo-rt-content .ChangeDetails{display:inline}#sbo-rt-content .ChangeDetails>p:first-of-type{display:inline}#sbo-rt-content .Bibliography{border-top:1px solid #bbb;margin-top:1em}#sbo-rt-content .BookBackmatter>.Bibliography:first-child{border-top:none}#sbo-rt-content .Bibliography>.Heading{font-size:1.44rem;margin-top:.8em;margin-bottom:.1em}#sbo-rt-content .BibliographyWrapper{display:table;margin:0;padding:0}#sbo-rt-content .Bibliography>.BibliographyWrapper{padding-top:1em}#sbo-rt-content .Bibliography>.Heading+.BibliographyWrapper{padding-top:0}#sbo-rt-content .BibSection>.Heading{font-size:1.2rem;margin-top:.8em;margin-bottom:.2em}#sbo-rt-content .BibliographyWrapper>.BibSection:first-child>.Heading:first-child{margin-top:.3em}#sbo-rt-content .Citation{display:table-row;font-size:90%}#sbo-rt-content .CitationNumber{display:table-cell}#sbo-rt-content .CitationNumber+.CitationContent{padding-left:.5em;text-align:left}#sbo-rt-content .CitationContent{padding-top:1em;display:table-cell}#sbo-rt-content .BibliographyWrapper>.Citation:first-child>.CitationContent{padding-top:0}#sbo-rt-content .Occurrences{display:block}#sbo-rt-content .Occurrence{margin-right:0}#sbo-rt-content .Occurrence:before{content:"["}#sbo-rt-content .Occurrence:after{content:"]"}#sbo-rt-content .Citation .ArticleTitle:before,#sbo-rt-content .Citation .ChapterTitle:before{content:" “";}#sbo-rt-content .Citation .ArticleTitle,#sbo-rt-content .Citation .ChapterTitle{display:inline}#sbo-rt-content .Citation .ArticleTitle:after{content:"”\ ";}#sbo-rt-content .Citation .ChapterTitle:after{content:"”\ In: ";}#sbo-rt-content .Citation .Year:before{content:" ("}#sbo-rt-content .Citation .Year:after{content:") "}#sbo-rt-content .Citation .JournalTitle:after{content:" "}#sbo-rt-content .Citation .VolumeID:after{content:":"}#sbo-rt-content .BibChapter .FirstPage:before,#sbo-rt-content .BibBook .FirstPage:before{content:", pp "}#sbo-rt-content .Citation .FirstPage+.LastPage:before{content:"–";}#sbo-rt-content .Citation .BookTitle:after,#sbo-rt-content .Citation .BibEditorName:after,#sbo-rt-content .Citation .EditionNumber:after,#sbo-rt-content .Citation .PublisherName:after{content:", "}#sbo-rt-content .BibComments{display:block}#sbo-rt-content .CoverFigure img{margin:0 auto 6px;width:100%;max-width:480px;height:auto}#sbo-rt-content .SeriesTitlePage{padding-bottom:1.5em;padding-top:1em}#sbo-rt-content .SeriesTitlePage .VolumeNumber{font-size:1.44rem}#sbo-rt-content .SeriesTitlePage span.SeriesTitle{display:block;font-size:1.73rem;font-weight:bold;margin-top:.5em}#sbo-rt-content .SeriesTitlePage .SeriesSubTitle{display:block;font-size:1.44rem;font-weight:bold}#sbo-rt-content .SeriesTitlePage .SubSeriesTitle{display:block;font-size:1.44rem;font-weight:bold;margin-top:.5em}#sbo-rt-content .SeriesTitlePage .SubSeriesSubTitle{display:block;font-size:1.2rem;font-weight:bold}#sbo-rt-content .SeriesTitlePage .CollaboratorDesignation{display:block;font-weight:bold;padding-top:3em}#sbo-rt-content .SeriesTitlePage .Collaborators{display:block}#sbo-rt-content .SeriesTitlePage .AffiliationText{font-style:italic;margin-left:0}#sbo-rt-content .SeriesTitlePage .Affiliation+.CollaboratorName{display:inline-block;margin-top:1em}#sbo-rt-content .SeriesInformationText{padding-top:3em}#sbo-rt-content .BookTitlePage{padding-top:1em}#sbo-rt-content .BookTitlePageAfterSeriesTitlePage{border-top:1px solid #bbb;page-break-before:always}#sbo-rt-content .BookContextInformation+.BookTitlePage{border-top:none;padding-top:0}#sbo-rt-content .BookTitlePage .BookEditors,#sbo-rt-content .BookTitlePage .BookAuthors,#sbo-rt-content .BookTitlePage .BookEditorInChiefGroup,#sbo-rt-content .BookTitlePage .BookSectionEditorGroup{text-align:left !important}#sbo-rt-content .BookTitlePage .BookEditorInChiefGroup,#sbo-rt-content .BookTitlePage .BookSectionEditorGroup{margin-top:1em}#sbo-rt-content .BookTitlePage .BookEditorGroup .CollaboratorDesignation,#sbo-rt-content .BookTitlePage .BookEditorInChiefGroup .CollaboratorDesignation,#sbo-rt-content .BookTitlePage .BookSectionEditorGroup .CollaboratorDesignation{font-style:italic}#sbo-rt-content .BookTitlePage .BookTitle{display:block;font-size:1.73rem;font-weight:bold;margin-top:1em}#sbo-rt-content .BookTitlePage .BookSubTitle{display:block;font-size:1.44rem;font-weight:bold;margin-bottom:.5em}#sbo-rt-content .BookTitlePage .BookEdition{display:block;font-size:1rem;font-weight:normal;margin-top:.5em}#sbo-rt-content .BookTitlePage .CollaboratorLine{padding-top:.5em}#sbo-rt-content .BookFeatureText{margin-top:.5em}#sbo-rt-content .BookTitlePage .PublisherLogo .Figure,#sbo-rt-content .BookTitlePage .PublisherImprintName{font-size:1.2rem;margin-top:4em;margin-bottom:1.5em;text-align:left}#sbo-rt-content .CopyrightPage{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .CopyrightPage .CollaboratorDesignation{display:block;font-style:italic;padding-bottom:.5em}#sbo-rt-content .CopyrightPageOriginators{padding-bottom:4em}#sbo-rt-content .CopyrightPage div+.CollaboratorDesignation{padding-top:2em}#sbo-rt-content .CopyrightPage .EditorGroup+.AuthorGroup{padding-top:2em}#sbo-rt-content .CopyrightPage .Author+.Author,#sbo-rt-content .CopyrightPage .Author+.InstitutionalAuthor,#sbo-rt-content .CopyrightPage .InstitutionalAuthor+.Author,#sbo-rt-content .CopyrightPage .InstitutionalAuthor+.InstitutionalAuthor,#sbo-rt-content .CopyrightPage .Editor+.Editor,#sbo-rt-content .CopyrightPage .Editor+.InstitutionalEditor,#sbo-rt-content .CopyrightPage .InstitutionalEditor+.Editor,#sbo-rt-content .CopyrightPage .InstitutionalEditor+.InstitutionalEditor,#sbo-rt-content .CopyrightPage .Collaborator+.Collaborator{padding-top:1em}#sbo-rt-content .CopyrightPage .Affiliation{margin-top:0}#sbo-rt-content .CopyrightPage .AffiliationText{margin-left:0}#sbo-rt-content .CopyrightPage .CollaboratorLine{padding-top:1em}#sbo-rt-content .CopyrightPage .CollaboratorLineTranslatedBy{padding-top:2em}#sbo-rt-content .CopyrightPage .CollaboratorLine .CollaboratorDesignation{display:inline;font-style:normal}#sbo-rt-content .BookFrontmatter .CopyrightPage .ArticleNoteESMHint{border:none;padding-bottom:0;page-break-before:auto}#sbo-rt-content .CopyrightPageISBNs,#sbo-rt-content .CopyrightPageISSNs,#sbo-rt-content .SpringerLocationsLine,#sbo-rt-content .CatalogingInformation,#sbo-rt-content .MathematicsSubjectClassification,#sbo-rt-content .CopyrightLine,#sbo-rt-content .CopyrightPage .CopyrightComment,#sbo-rt-content .BookCopublishingInformation .SimplePara,#sbo-rt-content .CopyrightStandardText,#sbo-rt-content .TrademarkQualifierText,#sbo-rt-content .ProductLiability,#sbo-rt-content .LegalNotice,#sbo-rt-content .CoverDesigner,#sbo-rt-content .BookCoverFigureText,#sbo-rt-content .PaperInfo,#sbo-rt-content .SpringerReferenceLine{margin-top:1em}#sbo-rt-content .CopyrightComment+.CopyrightLine{margin-top:.5em}#sbo-rt-content .SeriesTitle+.CopyrightPageISBNs,#sbo-rt-content .SubSeriesTitle+.CopyrightPageISBNs{margin-top:0}#sbo-rt-content .CopyrightPage .SeriesTitle{display:block;margin-top:1em}#sbo-rt-content .SeriesTitle+.CopyrightPageISSNs,#sbo-rt-content .CopyrightPageISSNs+.SeriesTitle,#sbo-rt-content .CopyrightPageISSNs+.SubSeriesTitle{margin-top:0}#sbo-rt-content .CopyrightPagePrintISSN,#sbo-rt-content .CopyrightPagePrintISBN{display:inline-block;min-width:12em}#sbo-rt-content .SpringerReferenceLine .SimplePara+.SimplePara,#sbo-rt-content .BookCoverFigureText .SimplePara+.SimplePara,#sbo-rt-content .BookCopublishingInformation .SimplePara+.SimplePara{text-indent:0}#sbo-rt-content .CopyrightPagePrintISSN+.CopyrightPageElectronicISSN{padding-left:1.5em}#sbo-rt-content .CopyrightPagePrintISBN+.CopyrightPageElectronicISBN{padding-left:1.5em}#sbo-rt-content .CopyrightComment .SimplePara+.SimplePara{padding-top:.5em;text-indent:0}#sbo-rt-content .MathematicsSubjectClassificationCode+.MathematicsSubjectClassificationCode:before{content:", "}#sbo-rt-content .Endorsement{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .Frontispiece{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .Dedication{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .Foreword{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .PartFrontmatter h1:first-child+.Foreword{border-top:none;padding-top:0;page-break-before:auto}#sbo-rt-content .ForewordTitle{font-size:1.44rem;font-weight:bold;padding-bottom:.1em;page-break-after:avoid}#sbo-rt-content .Foreword .AuthorName{margin-top:.2em}#sbo-rt-content .Foreword .AuthorName,#sbo-rt-content .ForewordLocations,#sbo-rt-content .ForewordDate{font-weight:bold;text-align:right}#sbo-rt-content .ForewordLocation+.ForewordLocation:before{content:", "}#sbo-rt-content .Foreword .RenderAsSection1>.Heading{font-size:1.2rem}#sbo-rt-content .Foreword .RenderAsSection2>.Heading,#sbo-rt-content .Foreword .RenderAsSection3>.Heading{font-size:100%}#sbo-rt-content .Preface{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .PrefaceTitle{font-size:1.44rem;font-weight:bold;padding-bottom:.1em;page-break-after:avoid}#sbo-rt-content .Preface .AuthorName{margin-top:.2em}#sbo-rt-content .Preface .AuthorName,#sbo-rt-content .PrefaceLocations,#sbo-rt-content .PrefaceDate{font-weight:bold;text-align:right}#sbo-rt-content .PrefaceLocation+.PrefaceLocation:before{content:", "}#sbo-rt-content .Preface .RenderAsSection1>.Heading{font-size:1.2rem}#sbo-rt-content .Preface .RenderAsSection2>.Heading,#sbo-rt-content .Preface .RenderAsSection3>.Heading{font-size:100%}#sbo-rt-content .BookFrontmatterArticleNote{border-top:1px solid #bbb;margin-top:0;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .PartFrontmatter .ArticleNote{padding-bottom:1em}#sbo-rt-content .PartFrontmatter h1:first-child+.ArticleNote{border-top:none;page-break-before:auto}#sbo-rt-content .BookFrontmatter .ArticleNote .Heading,#sbo-rt-content .PartFrontmatter .ArticleNote .Heading{font-size:1.44rem;font-style:normal;padding-bottom:.1em;page-break-after:avoid}#sbo-rt-content .BookAcknowledgments{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .BookAcknowledgmentsTitle{font-size:1.44rem;font-weight:bold;padding-bottom:.1em;page-break-after:avoid}#sbo-rt-content .BookAcknowledgments .AuthorName{font-weight:bold;margin-top:1em}#sbo-rt-content .BookAcknowledgments .RenderAsSection1>.Heading{font-size:1.2rem}#sbo-rt-content .BookAcknowledgments .RenderAsSection2>.Heading,#sbo-rt-content .BookAcknowledgments .RenderAsSection3>.Heading{font-size:100%}#sbo-rt-content .BookNotes{border-top:1px solid #bbb;padding-top:1em;padding-bottom:1em;page-break-before:always}#sbo-rt-content .BookNotesTitle{font-size:1.44rem;font-weight:bold;margin-bottom:.1em;page-break-after:avoid}#sbo-rt-content .BookNotes .AuthorName{font-weight:bold}#sbo-rt-content .BookFrontmatterAbbreviationGroup{border-top:1px solid #bbb;margin-top:0;padding-bottom:1em;page-break-before:always}#sbo-rt-content .PartFrontmatter .AbbreviationGroup{padding-bottom:1em;margin-top:1em}#sbo-rt-content .BookFrontmatter .AbbreviationGroup .Heading,#sbo-rt-content .PartFrontmatter .AbbreviationGroup .Heading{font-size:1.44rem;font-weight:bold;padding-top:1em;padding-bottom:.1em;page-break-after:avoid}#sbo-rt-content .BookFrontmatter .AbbreviationGroupSection>.Heading,#sbo-rt-content .PartFrontmatter .AbbreviationGroupSection>.Heading{font-size:1.2rem;padding-top:1em;padding-bottom:0}#sbo-rt-content .BookFrontmatter .AbbreviationGroupSection+.AbbreviationGroupSection>.Heading,#sbo-rt-content .PartFrontmatter .AbbreviationGroupSection+.AbbreviationGroupSection>.Heading{padding-top:.5em}#sbo-rt-content .Toc{border-top:1px solid #bbb;margin-top:0;padding-bottom:1em;page-break-before:always}#sbo-rt-content .Toc .Headings{margin-bottom:.5em}#sbo-rt-content .Toc>.Headings>.Heading{font-size:1.44rem;margin:0}#sbo-rt-content .Toc>.Headings>.SubHeading{font-size:1.2rem}#sbo-rt-content .Loh{border-top:1px solid #bbb;padding-bottom:1em;padding-top:1em;page-break-before:always}#sbo-rt-content .Loh .Headings{margin-bottom:.1em}#sbo-rt-content .Loh>.Headings>.Heading{font-size:1.44rem;margin:0}#sbo-rt-content .Loh>.Headings>.SubHeading{font-size:1.2rem}#sbo-rt-content .LohPageNumber{display:none}#sbo-rt-content .LocWithHeading,#sbo-rt-content .LocWithoutHeading>.LocBody>.LocDiv{border-top:1px solid #bbb;padding-bottom:1em;padding-top:1em;page-break-before:always}#sbo-rt-content .Loc .Headings{margin-bottom:.1em}#sbo-rt-content .LocWithHeading>.Headings>.Heading,#sbo-rt-content .LocWithoutHeading>.LocBody>.LocDiv>.Headings>.Heading{font-size:1.44rem;margin:0}#sbo-rt-content .LocWithHeading>.Headings>.SubHeading,#sbo-rt-content .LocWithoutHeading>.LocBody>.LocDiv>.Headings>.SubHeading{font-size:1.2rem}#sbo-rt-content .LocWithHeading .LocDiv{margin-top:1em}#sbo-rt-content .LocWithHeading .LocDiv .Heading{font-size:1.2rem;margin-bottom:.1em}#sbo-rt-content .LocWithHeading .LocDiv .SubHeading{font-size:100%;font-style:italic;font-weight:normal}#sbo-rt-content .LocDiv .FormalPara .Heading{font-size:100%}#sbo-rt-content .Loc .AuthorGroup+.AuthorGroup,#sbo-rt-content .Loc .AuthorGroup+.EditorGroup,#sbo-rt-content .Loc .EditorGroup+.AuthorGroup,#sbo-rt-content .Loc .EditorGroup+.EditorGroup{margin-top:1em}#sbo-rt-content .Loc .Author,#sbo-rt-content .Loc .Editor,#sbo-rt-content .Loc .InstitutionalAuthor,#sbo-rt-content .Loc .InstitutionalEditor{font-weight:bold}#sbo-rt-content .Loc .AffiliationText{margin-left:0}#sbo-rt-content .Loc .Email+.Email:before{content:", "}#sbo-rt-content .Loc .Emails,#sbo-rt-content .Loc .URLs{display:inline}#sbo-rt-content .Loc .Emails+.URLs:before{content:", "}#sbo-rt-content .Loc .URL+.URL:before{content:", "}#sbo-rt-content .BookFrontmatterFootnoteSection{border-top:1px solid #bbb;margin-top:0;page-break-before:always}#sbo-rt-content .PartFrontmatter .FootnoteSection{border-top:none;margin-top:0}#sbo-rt-content .Colophon{border-top:1px solid #bbb;margin-top:1em;padding-top:.8em;font-style:italic}#sbo-rt-content .ConferenceInfo{border-top:1px solid #bbb;margin-top:1em;padding-top:.8em}#sbo-rt-content .ConfEventAbbreviation,#sbo-rt-content .ConfNumber+.ConfSeriesName,#sbo-rt-content .ConfEventAbbreviation+.Year,#sbo-rt-content .ConfEventDateStart,#sbo-rt-content .ConfEventDateEnd{display:inline}#sbo-rt-content .ConfEventAbbreviation:after{content:" "}#sbo-rt-content .ConfEventLocation .City:after{content:", "}#sbo-rt-content .ConfEventDateEnd:before{content:"–"}#sbo-rt-content .ConfEventDateStart .Year:after,#sbo-rt-content .ConfEventDateStart .Month:after,#sbo-rt-content .ConfEventDateEnd .Year:after,#sbo-rt-content .ConfEventDateEnd .Month:after{content:"/"}#sbo-rt-content .ConfEventDate .Month:after{content:"/"}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/9781484226018/chapter/html/425975_1_En_2_Chapter.xhtml",
          "book_id": "9781484226018",
          "chapter_uri": "html/425975_1_En_2_Chapter.xhtml",
          "position": 0,
          "user_uuid": "39a88cd5-54f5-4d61-aec6-7884d06dfba1",
          "next_chapter_uri": "/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_3_Chapter.xhtml"
        
      },
      title: "Securing the Perimeter: Deploying Identity and Access Management with Free Open Source Software",
      author_list: "Michael Schwartz, Maciej Machulak",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false
    };
    // ]]></script><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/modernizr.8e35451ddb64.js"></script><script>
    
      

      
        
          window.PUBLIC_ANNOTATIONS = true;
        
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

      window.PRIVACY_CONTROL_SWITCH = true;

      window.PUBLISHER_PAGES = true;

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://learning.oreilly.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml"><meta name="description" content="© Michael Schwartz, Maciej Machulak 2018 Michael Schwartz and Maciej MachulakSecuring the Perimeterhttps://doi.org/10.1007/978-1-4842-2601-8_2 2. LDAP Michael Schwartz1  and Maciej Machulak2 (1)Austin, TX, USA (2)London, UK   Directory services are a ...!--end&gt;!--begin&gt; "><meta property="og:title" content="2. LDAP"><meta itemprop="isPartOf" content="/library/view/securing-the-perimeter/9781484226018/"><meta itemprop="name" content="2. LDAP"><meta property="og:url" itemprop="url" content="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml"><meta property="og:site_name" content="Safari"><meta property="og:image" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/9781484226018/"><meta property="og:description" itemprop="description" content="© Michael Schwartz, Maciej Machulak 2018 Michael Schwartz and Maciej MachulakSecuring the Perimeterhttps://doi.org/10.1007/978-1-4842-2601-8_2 2. LDAP Michael Schwartz1  and Maciej Machulak2 (1)Austin, TX, USA (2)London, UK   Directory services are a ...!--end&gt;!--begin&gt; "><meta itemprop="inLanguage" content="en"><meta itemprop="publisher" content="Apress"><meta property="og:type" content="book"><meta property="og:book:isbn" itemprop="isbn" content="9781484226018"><meta property="og:book:author" itemprop="author" content="Michael Schwartz"><meta property="og:book:author" itemprop="author" content="Maciej Machulak"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: &lt;%= font_size %&gt; !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: &lt;%= font_family %&gt; !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: &lt;%= column_width %&gt;% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script>
    var dataLayer = window.dataLayer || [];

    
      window.medalliaVsgUserIdentifier = '39a88cd5-54f5-4d61-aec6-7884d06dfba1';
      dataLayer.push({userIdentifier: '39a88cd5-54f5-4d61-aec6-7884d06dfba1'});
      dataLayer.push({loggedIn: 'yes'});

      
        window.medalliaVsgAccountIdentifier = 'c1ff3208-121f-489a-a3cd-0b219a28ba6e';
        

        window.medalliaVsgIsIndividual = true;
        
          
          dataLayer.push({learningAccountType: 'free trial'});
          
        

        
      
    

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
    (function () {
      var VERSION = 'V1.1';
      var AUTHOR = 'Awwad';
      if (!window.GtmHelper)
        window.GtmHelper = function () {
          var instance = this;
          var loc = document.location;
          this.version = VERSION;
          this.author = AUTHOR;
          this.readCookie = function (name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
              var c = ca[i];
              while (c.charAt(0) == ' ') c = c.substring(1, c.length);
              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
          };
          this.createCookie = function (name, value, days, cookieDomain) {
            var domain = "";
            var expires = "";

            if (days) {
              var date = new Date();
              date.setTime(date.getTime() + Math.ceil(days * 24 * 60 * 60 * 1000));
              var expires = " expires=" + date.toGMTString() + ";";
            }

            if (typeof (cookieDomain) != 'undefined')
              domain = " domain=" + cookieDomain + "; ";

            document.cookie = name + "=" + value + ";" + expires + domain + "path=/";
          };

          this.isDuplicated = function (currentTransactionId) {
            // the previous transaction id:
            var previousTransIdValue = this.readCookie("previousTransId");

            if (currentTransactionId === previousTransIdValue) {
              return true; // Duplication
            } else {
              return false;
            }
          };
        }
    })()
  </script><script defer="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/vendor.667e7ada497a.js"></script><script defer="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/reader.d25c5547507a.js"></script><iframe src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource.html"></iframe><iframe src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource(2).html"></iframe><iframe src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource(3).html"></iframe><link rel="stylesheet" type="text/css" href="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/container.40a6b605d29a66b083aa6d74c07bb73eae19e31b.css"><iframe src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource(4).html"></iframe><script async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/MathJax.js"></script><style id="annotator-dynamic-style">.annotator-adder, .annotator-outer, .annotator-notice {
  z-index: 100019;
}
.annotator-filter {
  z-index: 100009;
}</style><link href="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/840a321d95.css" media="all" rel="stylesheet"><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/f(1).txt"></script><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/f(2).txt"></script><script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/f(3).txt"></script><style type="text/css" id="kampyleStyle">.noOutline{outline: none !important;}.wcagOutline:focus{outline: 1px dashed #595959 !important;outline-offset: 2px !important;transition: none !important;}</style></head>


<body class="reading sidenav scalefonts subscribe-panel library" style="cursor: auto;">

    
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>



    
      <div class="working hide" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        

  


<a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#container" class="skip">Skip to content</a>



      </div>
      <div id="container" class="application" style="height: auto;">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="slug" style="animation: 0s ease 0s 1 normal none running none; background: none; background-blend-mode: normal; border: none; border-radius: 0px; border-collapse: separate; bottom: 503.333px; box-shadow: none; box-sizing: border-box; break-after: auto; break-before: auto; break-inside: auto; caption-side: top; clear: none; clip: auto; color: rgb(0, 0, 0); content: normal; cursor: url(&quot;chrome-extension://ekofpchjmoalonajopdeegdappocgcmj/cursor24.png&quot;), auto; direction: ltr; display: block; empty-cells: show; float: none; font: 400 16px &quot;source sans pro&quot;, sans-serif; font-kerning: auto; height: 61px; image-rendering: auto; isolation: auto; place-items: normal; place-self: auto; left: 54px; letter-spacing: normal; list-style: outside none disc; margin: 0px 0px 0px 280.438px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; mix-blend-mode: normal; object-fit: fill; object-position: 50% 50%; offset: none 0px auto 0deg; opacity: 1; orphans: 2; outline: rgb(0, 0, 0) none 0px; outline-offset: 0px; overflow-anchor: auto; overflow-wrap: normal; overflow: visible; padding: 0px; pointer-events: none; position: fixed; resize: none; right: 274.344px; scroll-behavior: auto; speak: normal; table-layout: auto; tab-size: 8; text-align: start; text-align-last: auto; text-decoration: none solid rgb(0, 0, 0); text-decoration-skip-ink: auto; text-underline-position: auto; text-indent: 0px; text-rendering: auto; text-shadow: none; text-size-adjust: 100%; text-overflow: clip; text-transform: none; top: 0px; touch-action: auto; transition: left 0.2s ease-in-out 0s; unicode-bidi: normal; vertical-align: baseline; visibility: visible; white-space: normal; widows: 2; width: 609px; will-change: auto; word-break: normal; word-spacing: 0px; z-index: 29; zoom: 1; -webkit-appearance: none; backface-visibility: visible; border-spacing: 0px; -webkit-border-image: none; -webkit-box-align: stretch; -webkit-box-decoration-break: slice; -webkit-box-direction: normal; -webkit-box-flex: 0; -webkit-box-ordinal-group: 1; -webkit-box-orient: horizontal; -webkit-box-pack: start; columns: auto auto; gap: normal normal; column-rule: 0px none rgb(0, 0, 0); column-span: none; backdrop-filter: none; place-content: normal; flex: 0 1 auto; flex-flow: row nowrap; -webkit-font-smoothing: antialiased; grid-auto-columns: auto; grid-auto-flow: row; grid-auto-rows: auto; grid-area: auto / auto / auto / auto; grid-template-areas: none; grid-template-columns: none; grid-template-rows: none; -webkit-highlight: none; hyphens: manual; -webkit-hyphenate-character: auto; -webkit-line-break: auto; -webkit-locale: &quot;en&quot;; -webkit-margin-collapse: collapse collapse; -webkit-mask-box-image-source: none; -webkit-mask-box-image-slice: 0 fill; -webkit-mask-box-image-width: auto; -webkit-mask-box-image-outset: 0px; -webkit-mask-box-image-repeat: stretch; -webkit-mask: none 0% 0% / auto repeat border-box border-box; -webkit-mask-composite: source-over; order: 0; perspective: none; perspective-origin: 305.271px 31px; -webkit-print-color-adjust: economy; -webkit-rtl-ordering: logical; shape-outside: none; shape-image-threshold: 0; shape-margin: 0px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-text-combine: none; -webkit-text-decorations-in-effect: none; -webkit-text-emphasis: none rgb(0, 0, 0); -webkit-text-emphasis-position: over right; -webkit-text-fill-color: rgb(0, 0, 0); -webkit-text-orientation: vertical-right; -webkit-text-security: none; -webkit-text-stroke: 0px rgb(0, 0, 0); transform: none; transform-origin: 305.276px 31px; transform-style: flat; -webkit-user-drag: auto; -webkit-user-modify: read-only; user-select: auto; -webkit-writing-mode: horizontal-tb; -webkit-app-region: none; buffered-rendering: auto; clip-path: none; clip-rule: nonzero; mask: none; filter: none; flood-color: rgb(0, 0, 0); flood-opacity: 1; lighting-color: rgb(255, 255, 255); stop-color: rgb(0, 0, 0); stop-opacity: 1; color-interpolation: srgb; color-interpolation-filters: linearrgb; color-rendering: auto; fill: rgb(0, 0, 0); fill-opacity: 1; fill-rule: nonzero; marker: none; mask-type: luminance; shape-rendering: auto; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; alignment-baseline: auto; baseline-shift: 0px; dominant-baseline: auto; text-anchor: start; writing-mode: horizontal-tb; vector-effect: none; paint-order: normal; d: none; cx: 0px; cy: 0px; x: 0px; y: 0px; r: 0px; rx: auto; ry: auto; caret-color: rgb(0, 0, 0); line-break: auto;"></div>

    

    <div class="slug" style="animation: 0s ease 0s 1 normal none running none; background: none; background-blend-mode: normal; border: none; border-radius: 0px; border-collapse: separate; bottom: 284.333px; box-shadow: none; box-sizing: border-box; break-after: auto; break-before: auto; break-inside: auto; caption-side: top; clear: none; clip: auto; color: rgb(0, 0, 0); content: normal; cursor: url(&quot;chrome-extension://ekofpchjmoalonajopdeegdappocgcmj/cursor24.png&quot;), auto; direction: ltr; display: block; empty-cells: show; float: none; font: 400 16px &quot;Times New Roman&quot;; font-kerning: auto; height: 181px; image-rendering: auto; isolation: auto; place-items: normal; place-self: auto; left: 1151.33px; letter-spacing: normal; list-style: outside none none; margin: 0px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; mix-blend-mode: normal; object-fit: fill; object-position: 50% 50%; offset: none 0px auto 0deg; opacity: 1; orphans: 2; outline: rgb(0, 0, 0) none 0px; outline-offset: 0px; overflow-anchor: auto; overflow-wrap: normal; overflow: visible; padding: 0px; pointer-events: none; position: fixed; resize: none; right: 20px; scroll-behavior: auto; speak: normal; table-layout: auto; tab-size: 8; text-align: center; text-align-last: auto; text-decoration: none solid rgb(0, 0, 0); text-decoration-skip-ink: auto; text-underline-position: auto; text-indent: 0px; text-rendering: auto; text-shadow: none; text-size-adjust: 100%; text-overflow: clip; text-transform: none; top: 100px; touch-action: auto; transition: all 0s ease 0s; unicode-bidi: normal; vertical-align: baseline; visibility: visible; white-space: normal; widows: 2; width: 48px; will-change: auto; word-break: normal; word-spacing: 0px; z-index: 25; zoom: 1; -webkit-appearance: none; backface-visibility: visible; border-spacing: 0px; -webkit-border-image: none; -webkit-box-align: stretch; -webkit-box-decoration-break: slice; -webkit-box-direction: normal; -webkit-box-flex: 0; -webkit-box-ordinal-group: 1; -webkit-box-orient: horizontal; -webkit-box-pack: start; columns: auto auto; gap: normal normal; column-rule: 0px none rgb(0, 0, 0); column-span: none; backdrop-filter: none; place-content: normal; flex: 0 1 auto; flex-flow: row nowrap; -webkit-font-smoothing: antialiased; grid-auto-columns: auto; grid-auto-flow: row; grid-auto-rows: auto; grid-area: auto / auto / auto / auto; grid-template-areas: none; grid-template-columns: none; grid-template-rows: none; -webkit-highlight: none; hyphens: manual; -webkit-hyphenate-character: auto; -webkit-line-break: auto; -webkit-locale: &quot;en&quot;; -webkit-margin-collapse: collapse collapse; -webkit-mask-box-image-source: none; -webkit-mask-box-image-slice: 0 fill; -webkit-mask-box-image-width: auto; -webkit-mask-box-image-outset: 0px; -webkit-mask-box-image-repeat: stretch; -webkit-mask: none 0% 0% / auto repeat border-box border-box; -webkit-mask-composite: source-over; order: 0; perspective: none; perspective-origin: 24px 90.5px; -webkit-print-color-adjust: economy; -webkit-rtl-ordering: logical; shape-outside: none; shape-image-threshold: 0; shape-margin: 0px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-text-combine: none; -webkit-text-decorations-in-effect: none; -webkit-text-emphasis: none rgb(0, 0, 0); -webkit-text-emphasis-position: over right; -webkit-text-fill-color: rgb(0, 0, 0); -webkit-text-orientation: vertical-right; -webkit-text-security: none; -webkit-text-stroke: 0px rgb(0, 0, 0); transform: none; transform-origin: 24px 90.5px; transform-style: flat; -webkit-user-drag: auto; -webkit-user-modify: read-only; user-select: auto; -webkit-writing-mode: horizontal-tb; -webkit-app-region: none; buffered-rendering: auto; clip-path: none; clip-rule: nonzero; mask: none; filter: none; flood-color: rgb(0, 0, 0); flood-opacity: 1; lighting-color: rgb(255, 255, 255); stop-color: rgb(0, 0, 0); stop-opacity: 1; color-interpolation: srgb; color-interpolation-filters: linearrgb; color-rendering: auto; fill: rgb(0, 0, 0); fill-opacity: 1; fill-rule: nonzero; marker: none; mask-type: luminance; shape-rendering: auto; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; alignment-baseline: auto; baseline-shift: 0px; dominant-baseline: auto; text-anchor: start; writing-mode: horizontal-tb; vector-effect: none; paint-order: normal; d: none; cx: 0px; cy: 0px; x: 0px; y: 0px; r: 0px; rx: auto; ry: auto; caret-color: rgb(0, 0, 0); line-break: auto;"></div>

    
    <section role="document">
        
        




  <script defer="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/djangoMessagesPage.61a28d591d16.js"></script>


        <script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/48743.js"></script>
<script>
  var userId = "6866040";

  var userObject = {
    firstName: "MACKYNZIE",
    segment: "Trial",
    admin: "False",
    profileCreatedOn: "April 4, 2020, 9:28 a.m.",
    academic: ""
  };
  window.Appcues.identify(userId, userObject);
  window.Appcues.page();

  setTimeout(function () {
    window.Appcues.track('ViewingBook_HeronBook')
  }, 20000);
</script>


	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <div class="slug" style="animation: 0s ease 0s 1 normal none running none; background: none; background-blend-mode: normal; border: none; border-radius: 0px; border-collapse: separate; bottom: 503.333px; box-shadow: none; box-sizing: border-box; break-after: auto; break-before: auto; break-inside: auto; caption-side: top; clear: none; clip: auto; color: rgb(246, 93, 34); content: normal; cursor: pointer; direction: ltr; display: block; empty-cells: show; float: none; font: 400 14px &quot;source sans pro&quot;, sans-serif; font-kerning: auto; height: 43px; image-rendering: auto; isolation: auto; place-items: normal; place-self: auto; left: 55px; letter-spacing: normal; list-style: outside none disc; margin: 0px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; mix-blend-mode: normal; object-fit: fill; object-position: 50% 50%; offset: none 0px auto 0deg; opacity: 1; orphans: 2; outline: rgb(246, 93, 34) none 0px; outline-offset: 0px; overflow-anchor: auto; overflow-wrap: normal; overflow: hidden; padding: 9px 15px; pointer-events: none; position: fixed; resize: none; right: 883.896px; scroll-behavior: auto; speak: normal; table-layout: auto; tab-size: 8; text-align: left; text-align-last: auto; text-decoration: none solid rgb(246, 93, 34); text-decoration-skip-ink: auto; text-underline-position: auto; text-indent: 0px; text-rendering: auto; text-shadow: none; text-size-adjust: 100%; text-overflow: ellipsis; text-transform: none; top: 0px; touch-action: auto; transition: left 0.2s ease-in-out 0s; unicode-bidi: normal; vertical-align: baseline; visibility: visible; white-space: nowrap; widows: 2; width: 249px; will-change: auto; word-break: normal; word-spacing: 0px; z-index: 30; zoom: 1; -webkit-appearance: none; backface-visibility: visible; border-spacing: 0px; -webkit-border-image: none; -webkit-box-align: stretch; -webkit-box-decoration-break: slice; -webkit-box-direction: normal; -webkit-box-flex: 0; -webkit-box-ordinal-group: 1; -webkit-box-orient: horizontal; -webkit-box-pack: start; columns: auto auto; gap: normal normal; column-rule: 0px none rgb(246, 93, 34); column-span: none; backdrop-filter: none; place-content: normal; flex: 0 1 auto; flex-flow: row nowrap; -webkit-font-smoothing: antialiased; grid-auto-columns: auto; grid-auto-flow: row; grid-auto-rows: auto; grid-area: auto / auto / auto / auto; grid-template-areas: none; grid-template-columns: none; grid-template-rows: none; -webkit-highlight: none; hyphens: manual; -webkit-hyphenate-character: auto; -webkit-line-break: auto; -webkit-locale: &quot;en&quot;; -webkit-margin-collapse: collapse collapse; -webkit-mask-box-image-source: none; -webkit-mask-box-image-slice: 0 fill; -webkit-mask-box-image-width: auto; -webkit-mask-box-image-outset: 0px; -webkit-mask-box-image-repeat: stretch; -webkit-mask: none 0% 0% / auto repeat border-box border-box; -webkit-mask-composite: source-over; order: 0; perspective: none; perspective-origin: 140.219px 31px; -webkit-print-color-adjust: economy; -webkit-rtl-ordering: logical; shape-outside: none; shape-image-threshold: 0; shape-margin: 0px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-text-combine: none; -webkit-text-decorations-in-effect: none; -webkit-text-emphasis: none rgb(246, 93, 34); -webkit-text-emphasis-position: over right; -webkit-text-fill-color: rgb(246, 93, 34); -webkit-text-orientation: vertical-right; -webkit-text-security: none; -webkit-text-stroke: 0px rgb(246, 93, 34); transform: none; transform-origin: 140.219px 31px; transform-style: flat; -webkit-user-drag: auto; -webkit-user-modify: read-only; user-select: auto; -webkit-writing-mode: horizontal-tb; -webkit-app-region: none; buffered-rendering: auto; clip-path: none; clip-rule: nonzero; mask: none; filter: none; flood-color: rgb(0, 0, 0); flood-opacity: 1; lighting-color: rgb(255, 255, 255); stop-color: rgb(0, 0, 0); stop-opacity: 1; color-interpolation: srgb; color-interpolation-filters: linearrgb; color-rendering: auto; fill: rgb(0, 0, 0); fill-opacity: 1; fill-rule: nonzero; marker: none; mask-type: luminance; shape-rendering: auto; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; alignment-baseline: auto; baseline-shift: 0px; dominant-baseline: auto; text-anchor: start; writing-mode: horizontal-tb; vector-effect: none; paint-order: normal; d: none; cx: 0px; cy: 0px; x: 0px; y: 0px; r: 0px; rx: auto; ry: auto; caret-color: rgb(246, 93, 34); line-break: auto;"></div>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <div class="slug" style="animation: 0s ease 0s 1 normal none running none; background: none; background-blend-mode: normal; border: none; border-radius: 0px; border-collapse: separate; bottom: 493.333px; box-shadow: none; box-sizing: border-box; break-after: auto; break-before: auto; break-inside: auto; caption-side: top; clear: none; clip: auto; color: rgb(246, 93, 34); content: normal; cursor: pointer; direction: ltr; display: block; empty-cells: show; float: none; font: 400 14px &quot;source sans pro&quot;, sans-serif; font-kerning: auto; height: 43px; image-rendering: auto; isolation: auto; place-items: normal; place-self: auto; left: 938.896px; letter-spacing: normal; list-style: outside none disc; margin: 0px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; mix-blend-mode: normal; object-fit: fill; object-position: 50% 50%; offset: none 0px auto 0deg; opacity: 1; orphans: 2; outline: rgb(246, 93, 34) none 0px; outline-offset: 0px; overflow-anchor: auto; overflow-wrap: normal; overflow: hidden; padding: 9px 15px; pointer-events: none; position: fixed; resize: none; right: 0px; scroll-behavior: auto; speak: normal; table-layout: auto; tab-size: 8; text-align: right; text-align-last: auto; text-decoration: none solid rgb(246, 93, 34); text-decoration-skip-ink: auto; text-underline-position: auto; text-indent: 0px; text-rendering: auto; text-shadow: none; text-size-adjust: 100%; text-overflow: ellipsis; text-transform: none; top: 0px; touch-action: auto; transition: color 0.2s ease-out 0s; unicode-bidi: normal; vertical-align: baseline; visibility: visible; white-space: nowrap; widows: 2; width: 251px; will-change: auto; word-break: normal; word-spacing: 0px; z-index: 30; zoom: 1; -webkit-appearance: none; backface-visibility: visible; border-spacing: 0px; -webkit-border-image: none; -webkit-box-align: stretch; -webkit-box-decoration-break: slice; -webkit-box-direction: normal; -webkit-box-flex: 0; -webkit-box-ordinal-group: 1; -webkit-box-orient: horizontal; -webkit-box-pack: start; columns: auto auto; gap: normal normal; column-rule: 0px none rgb(246, 93, 34); column-span: none; backdrop-filter: none; place-content: normal; flex: 0 1 auto; flex-flow: row nowrap; -webkit-font-smoothing: antialiased; grid-auto-columns: auto; grid-auto-flow: row; grid-auto-rows: auto; grid-area: auto / auto / auto / auto; grid-template-areas: none; grid-template-columns: none; grid-template-rows: none; -webkit-highlight: none; hyphens: manual; -webkit-hyphenate-character: auto; -webkit-line-break: auto; -webkit-locale: &quot;en&quot;; -webkit-margin-collapse: collapse collapse; -webkit-mask-box-image-source: none; -webkit-mask-box-image-slice: 0 fill; -webkit-mask-box-image-width: auto; -webkit-mask-box-image-outset: 0px; -webkit-mask-box-image-repeat: stretch; -webkit-mask: none 0% 0% / auto repeat border-box border-box; -webkit-mask-composite: source-over; order: 0; perspective: none; perspective-origin: 140.219px 31px; -webkit-print-color-adjust: economy; -webkit-rtl-ordering: logical; shape-outside: none; shape-image-threshold: 0; shape-margin: 0px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-text-combine: none; -webkit-text-decorations-in-effect: none; -webkit-text-emphasis: none rgb(246, 93, 34); -webkit-text-emphasis-position: over right; -webkit-text-fill-color: rgb(246, 93, 34); -webkit-text-orientation: vertical-right; -webkit-text-security: none; -webkit-text-stroke: 0px rgb(246, 93, 34); transform: none; transform-origin: 140.219px 31px; transform-style: flat; -webkit-user-drag: auto; -webkit-user-modify: read-only; user-select: auto; -webkit-writing-mode: horizontal-tb; -webkit-app-region: none; buffered-rendering: auto; clip-path: none; clip-rule: nonzero; mask: none; filter: none; flood-color: rgb(0, 0, 0); flood-opacity: 1; lighting-color: rgb(255, 255, 255); stop-color: rgb(0, 0, 0); stop-opacity: 1; color-interpolation: srgb; color-interpolation-filters: linearrgb; color-rendering: auto; fill: rgb(0, 0, 0); fill-opacity: 1; fill-rule: nonzero; marker: none; mask-type: luminance; shape-rendering: auto; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; alignment-baseline: auto; baseline-shift: 0px; dominant-baseline: auto; text-anchor: start; writing-mode: horizontal-tb; vector-effect: none; paint-order: normal; d: none; cx: 0px; cy: 0px; x: 0px; y: 0px; r: 0px; rx: auto; ry: auto; caret-color: rgb(246, 93, 34); line-break: auto;"></div>
    
  
  </div>



<div id="sbo-rt-content" style="transform: none;"><div class="annotator-wrapper"><div class="ChapterContextInformation"><div class="ContextInformation" id="b978-1-4842-2601-8_2"><div class="ChapterCopyright">©&nbsp;Michael Schwartz, Maciej Machulak&nbsp;2018</div><span class="ContextInformationAuthorEditorNames"><span class="Author"><span class="AuthorName">Michael&nbsp;Schwartz</span> and </span><span class="Author"><span class="AuthorName">Maciej&nbsp;Machulak</span></span></span><span class="ContextInformationBookTitles"><span class="BookTitle" epub:type="title" lang="en">Securing the Perimeter</span></span><span class="ChapterDOI"><a href="https://doi.org/10.1007/978-1-4842-2601-8_2">https://doi.org/10.1007/978-1-4842-2601-8_2</a></span></div></div><!--Begin Abstract--><div class="MainTitleSection"><h1 class="ChapterTitle" lang="en">2.&nbsp;LDAP</h1></div><div class="AuthorGroup"><div class="AuthorNames"><span class="Author"><span class="AuthorName">Michael&nbsp;Schwartz</span><sup><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Aff3" class="totri-footnote">1</a>&nbsp;<span class="ContactIcon"></span></sup> and </span><span class="Author"><span class="AuthorName">Maciej&nbsp;Machulak</span><sup><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Aff4" class="totri-footnote">2</a></sup></span></div><div class="Affiliations"><div class="Affiliation" id="Aff3"><span class="AffiliationNumber">(1)</span><div class="AffiliationText">Austin, TX, USA</div></div><div class="Affiliation" id="Aff4"><span class="AffiliationNumber">(2)</span><div class="AffiliationText">London, UK</div></div><div class="ClearBoth">&nbsp;</div></div></div><!--End Abstract--><div class="Fulltext"><p class="Para" id="Par2">Directory services are a critical part of your identity infrastructure. Many components in the identity stack need to either read or write data. While any database could work, a popular choice for many identity projects is LDAP. This chapter is not a comprehensive guide to LDAP. If you are deploying LDAP in your environment, study the documentation for your LDAP Server of choice. Like other chapters in this book, the goal here is to give an overview of the technology and brief descriptions of some open source software tools.</p><section class="Section1 RenderAsSection1" id="Sec1"><h2 class="Heading">History</h2><p class="Para" id="Par3">You can retrieve data stored in a tree format quickly by ignoring data that is not relevant to your search. For example, think about your family tree. If you want to know the descendants of your parents, you can ignore all the family tree beneath aunts or uncles. Reducing the scope of the search saves a lot of time.</p><p class="Para" id="Par4">In the late ’80s, the X.500 set of <span id="ITerm1">standards</span>, developed by the International Telecommunication Union (ITU), standardized the storage and retrieval of data using a tree structure. X.500 infrastructure worked well for early messaging systems. However, the popularity of <span id="ITerm2">Internet Protocol (IP)</span> lead to the need for a new directory access protocol. Collaborators from the industry released several related standards from 1993–1997 via the <span id="ITerm3">Internet Engineering Task Force (IETF)</span>, independent of any X.500 dependencies.</p><p class="Para" id="Par5">The LDAP IETF RFCs do not define a persistence mechanism. Nothing prohibits an in-memory LDAP implementation, or even a persistence mechanism based on homing pigeons (although you’d have to build many lofts, and the performance would be terrible). Today, each LDAP vendor has its own persistence strategy, and there is a diverse range of technologies. When you choose an LDAP platform, you always need to consider the underlying database with its respective tradeoffs. One of the most popular databases for LDAP is Oracle Berkeley DB. OpenLDAP uses LMDB. IBM’s LDAP Server uses the DB2 database. Radiant Logic offers a commercial LDAP Server that uses Hadoop as the backend.</p><p class="Para" id="Par6">Where did the LDAP Servers of today come from? It may help to understand that some LDAP implementations are related. In 1993, at the University of Michigan, Tim Howes wrote the first LDAP Server. In 1996, Netscape forked the project and launched the Netscape Directory Server, which became one of the leading commercial servers. The OpenLDAP project started, also by forking the 1996 version of the University of Michigan LDAP Server code—today the University of Michigan directory project redirects to OpenLDAP. In 1999, Sun Microsystems and Netscape formed an alliance, called iPlanet, re-branding Netscape Directory Server. In an interesting twist, AOL became part of this partnership when it acquired Netscape. In 2002, the iPlanet alliance ended, but the parties retained the right to use the LDAP Server code. Sun rebranded the LDAP Servers as the Sun Directory Server Enterprise Edition. In 2004, AOL sold the LDAP Server code to Red Hat, who open sourced it as the Fedora Directory Server (FDS).</p><p class="Para" id="Par7">Sun continued to innovate the original Netscape Directory Server. But in 2005, some of the developers felt that they had gone as far as they could with the old code. Developers proposed to rewrite the LDAP Server from the ground up in Java. Refactoring and innovations in Java and persistence libraries would improve performance and make it easier to manage. The launch of OpenDS, a new <span id="ITerm4">Java LDAP Server platform</span>, aligned with a short-lived open source movement at Sun. OpenDS used the same schema and access control mechanism as previous versions of Sun Directory Server, so the servers were relatively <span id="ITerm5">compatible</span>.</p><p class="Para" id="Par8">And then Oracle bought Sun. There was overlap in the identity products. Regulators fussed, and Oracle agreed to divest some of the business. Some of the former Sun identity team raised money and acquired some of the technology—including OpenDS, which by this time was an essential part of the identity platform. Forgerock rebranded this new Java LDAP Server as “OpenDJ” and continues to release source code from time to time under the Common Development and Distribution License (CDDL).</p><p class="Para" id="Par9">One of the benefits of LDAP is that because your application uses a standard protocol to access data, you are not locked into one vendor’s implementation. However, this does not mean that there are no switching costs with regard to managing the server.</p><p class="Para" id="Par10">One of the interesting results from this long, intertwined history is that some LDAP Servers share some important management conventions—particularly how schema and access controls are managed. For example, the same schema can be used for OpenDJ, Fedora Directory Server, and even commercial LDAP Servers from Oracle and Ping Identity.</p><p class="Para" id="Par11">No discussion of LDAP would be complete without mentioning Microsoft Active Directory (AD), one of the most widely deployed servers with an LDAP interface. During the development of Windows 2000, Microsoft recognized that the flat user management strategy from Windows NT 4.0 was not sufficient to serve large enterprise customers. Developers forked the directory component from the Exchange 4.0 email server and added many features. Since its first release in 2000 as an official part of the Windows Server <span id="ITerm6">platform</span>, AD became one of the most common directory servers for organizations. For many identity and access management deployments, AD is an important source for information about people.</p></section><section class="Section1 RenderAsSection1" id="Sec2"><h2 class="Heading">Why Use LDAP Today?</h2><p class="Para" id="Par12">Today, some people wonder about the relevance of LDAP. It’s not a protocol you want to use over the Internet to retrieve your cloud email or to access your cloud files. Even Microsoft’s new cloud identity service, Azure Active Directory, does not support LDAP connections from the <span id="ITerm7">Internet</span>. Some would even argue that the hierarchical representation of identity should give way to a linked data graph model, where people are interconnected, not subordinate within an organization.</p><p class="Para" id="Par13">The right persistence strategy depends on many factors. How big is your data—thousands or millions of entries? What is the concurrency requirement? Are read or write operations more common? Is multi-data center replication required? Does the concurrency warrant database shards? Can you use the database interface for in-memory cache? There is no “correct” answer—if data gets stored on the disk, any database can work for identity services.</p><div class="Para" id="Par14">But for many organizations, LDAP has proven to be a nice choice for the database in the IAM <span id="ITerm8">stack</span>. Here are my top 10 reasons:<div class="OrderedList"><ol><li class="ListItem"><span class="ItemNumber">1.</span><div class="ItemContent"><p class="Para" id="Par15">LDAP helps you avoid lock-in to one implementation. LDAP has a text-based format called LDIF—LDAP Data Interchange Format—so you can always export data from one LDAP Server and import it into another.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">2.</span><div class="ItemContent"><p class="Para" id="Par16">There are many free open source libraries and tools to manage data using LDAP.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">3.</span><div class="ItemContent"><p class="Para" id="Par17">Replication technology is mature for several LDAP Servers. For identity data, business continuity is critical. Many organizations want to know that a full set of data is available in two locations. While several other database technologies include replication, some implementations are “best efforts,” which means you may need to compare data sets periodically to make sure the data sets are still in sync. In other database implementations, replication is not available in the free open source packages.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">4.</span><div class="ItemContent"><p class="Para" id="Par18">Many LDAP Servers support numerous algorithms to hash passwords and provide an easy interface for password verification.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">5.</span><div class="ItemContent"><p class="Para" id="Par19">Tools exist to generate large LDAP sample data sets and benchmark performance—ensuring that the database performs as expected.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">6.</span><div class="ItemContent"><p class="Para" id="Par20">Search performance is excellent in LDAP. By reducing the scope of searches and properly indexing, lookups are fast!</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">7.</span><div class="ItemContent"><p class="Para" id="Par21">LDAP has excellent UNIX command-line tools that enable you to perform most of your day-to-day administrative work over a simple SSH <span id="ITerm9">connection</span>.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">8.</span><div class="ItemContent"><p class="Para" id="Par22">There are strategies to scale LDAP horizontally, putting more disks and reducing replication traffic.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">9.</span><div class="ItemContent"><p class="Para" id="Par23">Binary and text backups ensure you never lose your data.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">10.</span><div class="ItemContent"><p class="Para" id="Par24">Enterprise customers have successfully deployed and operated LDAP infrastructure for many years, proving its reliability.</p></div><div class="ClearBoth">&nbsp;</div></li></ol></div></div></section><section class="Section1 RenderAsSection1" id="Sec3"><h2 class="Heading">Basics</h2><div class="Para" id="Par25">LDAP is a <span id="ITerm10">client/server message-oriented protocol</span>. The primary operations defined in LDAP enable the client to read or write data, “bind” (authenticate a requestor), and “abandon” (signal to the server to cancel an operation). Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig1">2-1</a></span> shows a typical sequence diagram of the LDAP protocol.<figure class="Figure" id="Fig1"><div class="MediaObject" id="MO1"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig1_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig1_HTML.jpg" style="height:20.83em" width="1185" height="833" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig1_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-1</span><p class="SimplePara">LDAP <span id="ITerm11">sequence diagram</span></p></div></figcaption></figure></div><p class="Para" id="Par26">LDAP is not a simple text-based protocol like HTTP. You won’t be able to compose messages on the fly—you’ll need the help of client software. LDAP on the wire uses a set of rules for encoding data structures called the <span id="ITerm12">Basic Encoding Rules (BER)</span>, which is actually a binary format for ASN.1. Binary encoding significantly improves performance, and high throughput has always been an important design consideration for LDAP.</p><p class="Para" id="Par27">If there is a need for a new operation, LDAP defines a standard extension mechanism called “<span id="ITerm13">extended operations.”</span> For example, the StartTLS operation enables a client to indicate that it wants to initiate an encrypted transport layer or perhaps to use cryptographic signatures, so the parties can validate that they trust each other.</p><p class="Para" id="Par28">In addition to operations, clients can include LDAP “controls,” which can enable servers to implement extended behavior not specified in the core LDAP protocol. For example, the <span id="ITerm14">
              <span class="EmphasisFontCategoryNonProportional ">SimplePagedResultsControl</span>
              
              
            </span>, which is described in RFC 2696, enables a client to control the rate at which an LDAP Server returns the results of an LDAP search operation.</p><section class="Section2 RenderAsSection2" id="Sec4"><h3 class="Heading">Entries, DNs, and RDNs</h3><p class="Para" id="Par29">A unit of information in an LDAP tree is called an “entry”—think of it like a record in a relational <span id="ITerm15">database</span>, or an object with properties (and no methods), like a Java bean. An LDAP directory is composed of many such entries, connected together to form a tree.</p><p class="Para" id="Par30">DN stands for “Distinguished Name” and RDN stands for “Relative Distinguished Name”. The DN is the full address of a node in the LDAP tree. The RDN is the partial path of an entry relative to another entry. For example, we might have an entry with a DN of <span class="EmphasisFontCategoryNonProportional ">uid=foo,ou=people,o=acme</span>. It is comprised of three RDNs. The DN of an entry must be unique in the tree, and it is how we refer to an entry. If you try to add another entry with the same DN, the LDAP Server will throw an error. Although you might have learned to leave a space after a comma in your typing class, don’t do this when you reference DNs. For example, <span class="EmphasisFontCategoryNonProportional ">uid=foo, ou=people, o=example.com</span>, is an invalid DN! Also, you should avoid several special characters when you choose a DN: space, hash, comma, plus, double-quote, backslash, less-than, greater-than and semicolon. Technically you could use these characters if you escape them, but do yourself a favor and just avoid them when naming <span id="ITerm16">entries</span>.</p></section><section class="Section2 RenderAsSection2" id="Sec5"><h3 class="Heading">Namespace</h3><div class="Para" id="Par31">LDAP is based on the idea of a tree data structure. The <span id="ITerm17">namespace</span><span id="ITerm18">
                
                
              </span>, or directory information <span id="ITerm19">tree</span> (DIT) is defined based on how we name each entry in the tree. Over the years, some common practices have arisen in LDAP namespaces used for enterprise identity and access management. Let’s just dive into an example. As you can see, the namespace in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig2">2-2</a></span> has three levels.<figure class="Figure" id="Fig2"><div class="MediaObject" id="MO2"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig2_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig2_HTML.jpg" style="height:27.65em" width="1725" height="1106" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig2_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-2</span><p class="SimplePara">Sample namespace for hypothetical company Acme, Inc.</p></div></figcaption></figure></div><p class="Para" id="Par32">The first level is called the <span id="ITerm20">root node</span><span id="ITerm21">
                
              </span><span id="ITerm22">
                
                
              </span>. It consists of one entry: <span class="EmphasisFontCategoryNonProportional ">dc=acme,dc=com</span>. <span class="EmphasisFontCategoryNonProportional ">dc</span> stands for domain component. It may seem confusing that this root node has two components. Shouldn’t <span class="EmphasisFontCategoryNonProportional ">dc=com</span> be the root? Perhaps, but a root node can start from a sub-tree. Another convention you might see is to use an organization entry as the root, for example <span class="EmphasisFontCategoryNonProportional ">o=acme.com</span>. You might like this convention because it’s less typing. The second level consists of two entries: <span class="EmphasisFontCategoryNonProportional ">ou=people</span> and <span class="EmphasisFontCategoryNonProportional ">ou=groups</span>. <span class="EmphasisFontCategoryNonProportional ">ou</span> stands for organizational unit. It’s a common container used to group entries, similar conceptually to a file system folder. There normally isn’t much data in the <span class="EmphasisFontCategoryNonProportional ">ou</span>, except for the name. The third level contains the leaf entries with the actual data. In Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig2">2-2</a></span>, there are entries for two people and two groups. The DN for an entry can be known by starting from the entry in question and traversing up the tree until you hit the root, for example <span class="EmphasisFontCategoryNonProportional ">uid=foo,ou=people,dc=acme,dc=com</span>.</p></section><section class="Section2 RenderAsSection2" id="Sec6"><h3 class="Heading">Schema</h3><p class="Para" id="Par33">An entry in LDAP is composed of a DN and <span id="ITerm23">data</span>. It may be helpful to compare/contrast LDAP to the more familiar model found in a <span id="ITerm24">relational database management system (RDBMS)</span>, where data is expressed in a table with columns and each row is a record. At a high level, one could say that the LDAP equivalent of a table is an “objectclass”; the equivalent of a column is an “attribute;” the equivalent of a record is an “entry.” In an RDBMS you need to define your <span id="ITerm25">schema</span>—tables and columns—ahead of time. Similarly, in LDAP you need to pre-define objectclasses and attributes before use.</p><div class="Para" id="Par34">There are differences. An LDAP entry can have multiple objectclasses. Such an entry could contain any of the attributes found in any of the objectclasses. Another difference is that LDAP attributes can be multi-value. In an RDBMS, you need duplicate columns to hold multiple values, or you have to serialize many values (for example in a JSON array) and stuff it into one column. In LDAP, it’s easy. Consider the example in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC1">2-1</a></span>.<div class="ProgramCode" id="PC1"><div class="LineGroup"><div class="FixedLine">dn: uid=foo,ou=people,o=acme.com</div><div class="FixedLine">objectclass: top</div><div class="FixedLine">objectclass: person</div><div class="FixedLine">objectclass: organizationalPerson</div><div class="FixedLine">objectclass: inetOrgPerson</div><div class="FixedLine">cn: Foo Bar</div><div class="FixedLine">sn: Bar</div><div class="FixedLine">givenName: foo</div><div class="FixedLine">l: Austin</div><div class="FixedLine">mail: foo@acme.com</div><div class="FixedLine">mail: foo_bar_2016@gmail.com</div><div class="FixedLine">mail: luckyFoo@yahoo.com</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-1</span><p class="SimplePara">Sample Entry with Multi-Value Attributes</p></div></div></div></div><p class="Para" id="Par35">This is the first time you are seeing LDIF, the text representation of LDAP data. Notice that the DN of the entry is on the first line. After that, comes the data. There is no requirement that the objectclasses are listed first, although it’s a nice convention for human readers. Both <span class="EmphasisFontCategoryNonProportional ">objectclass</span> and <span class="EmphasisFontCategoryNonProportional ">mail</span> are multi-value attributes.</p><p class="Para" id="Par36">Another feature of LDAP <span id="ITerm26">schema</span> is that certain attributes might be required for a certain objectclass. For example, the person objectclass requires <span class="EmphasisFontCategoryNonProportional ">cn</span> and <span class="EmphasisFontCategoryNonProportional ">sn</span>. A rule of thumb is not to use required attributes. Strict schema rules seem like a good idea, until you have an exception. If you make all attributes optional, you have some extra flexibility.</p><p class="Para" id="Par37">Attributes have data types, which impact the server’s implementation with regard to searching and ordering. The most common type of data for an LDAP Server is text. However, integers, dates, or even binary data like photos or certificates may also be supported. For more information about data types, you should check the documentation for your server.</p><p class="Para" id="Par38">A quick note about object identifiers, or OIDs. These are used extensively in LDAP configuration servers to identify many different types of things, such as objectclasses and attributes. By convention, many OIDs are written as strings of dotted decimal numbers, like the ASN format. In some cases, the LDAP Server may accept any unique string as an OID. Some <span id="ITerm27">servers</span> are very strict about OID using valid ASNs—this is up to the implementation. Organizations can register an OID in the IANA global registry, which makes the objects referenceable (or their owner discoverable). I’m not sure why this is necessary, but I guess it was helpful at some point, way back.</p></section><section class="Section2 RenderAsSection2" id="Sec7"><h3 class="Heading">Filters</h3><div class="Para" id="Par39">You will sometimes need to search an LDAP tree for a specific subset of data based on specific criteria. <span id="ITerm28">Filters </span><span id="ITerm29">
                
                
              </span> are a compact and flexible mechanism to express which data you want to see based on conditions relating to the attributes values. Table <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Tab1">2-1</a></span> contains a summary of some of the most commonly used LDAP filter expressions.<div class="Table" id="Tab1"><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Table 2-1</span><p class="SimplePara">LDAP Filter Overview</p></div></div><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="tcol1 align-left"><col class="tcol2 align-left"><col class="tcol3 align-left"></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Operator</strong>
                        </p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Type</strong>
                        </p></th><th style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Example</strong>
                        </p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">=</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Comparison</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">sn=bar)</span> Find entries with last name <span class="EmphasisFontCategoryNonProportional ">bar</span>.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">=*x*</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Contains x</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">cn=*manager*)</span> Find all entries with a <span class="EmphasisFontCategoryNonProportional ">cn</span> that contains <span class="EmphasisFontCategoryNonProportional ">manager</span>.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">x*</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Starts with x</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">cn=*manager*)</span> Find all entries with a <span class="EmphasisFontCategoryNonProportional ">cn</span> that contains <span class="EmphasisFontCategoryNonProportional ">manager</span>.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">*x</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Ends with x</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">cn=*manager*)</span> Find all entries with a <span class="EmphasisFontCategoryNonProportional ">cn</span> that contains <span class="EmphasisFontCategoryNonProportional ">manager</span>.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">&lt;= or &gt;=</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Less than or equal to comparison or greater than or equal to comparison</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">(dob&lt;=19950101000000Z)</span> Find entries with a <span class="EmphasisFontCategoryNonProportional ">dob</span> before 1/1/95.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">=*</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Presence</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">(memberOf=*)</span> Find all entries who belong to at least one group.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">~=</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Approximate</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">(sn~=smith)</span> Find all entries that sound similar, like perhaps “smith” too.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">!</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Not</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">!(memberOf=*)</span> Find all the entries who don’t belong to any group.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <span class="EmphasisFontCategoryNonProportional ">&amp;</span>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">And</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">(&amp;(memberOf=*)(l=Austin))</span> Find all the entries in location <span class="EmphasisFontCategoryNonProportional ">Austin</span> who are a member of at least one group.</p></td></tr><tr><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">I</span> (or symbol)</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">or<span id="ITerm30">
                            
                            
                          </span><span id="ITerm31">
                            
                            
                          </span></p></td><td style="text-align: left;"><p class="SimplePara"><span class="EmphasisFontCategoryNonProportional ">(I(status=dead)(status=alive))</span> Find all entries with status dead or alive.</p></td></tr></tbody></table></div></div><div class="FormalPara FormalParaRenderingStyle1 ParaTypeImportant" id="FPar1"><h3 class="Heading">Note</h3><p class="Para" id="Par40">Certain characters must be escaped if they are used in a search filter: asterisk (<span class="EmphasisFontCategoryNonProportional ">\2A</span>), left parenthesis (<span class="EmphasisFontCategoryNonProportional ">\28</span>), right parenthesis (<span class="EmphasisFontCategoryNonProportional ">\29</span>), backslash (<span class="EmphasisFontCategoryNonProportional ">\5C</span>), and the null byte (<span class="EmphasisFontCategoryNonProportional ">\00</span>). For example, to search for a group with the name <span class="EmphasisFontCategoryNonProportional ">5* Staff</span>, you would use a filter <span class="EmphasisFontCategoryNonProportional ">(cn=5\2A Staff)</span>.</p></div><p class="Para" id="Par41">It’s a good idea to always use parentheses to contain the individual elements of a filter. For example, even though <span class="EmphasisFontCategoryNonProportional ">sn=bar</span> is legal, you may want to get into the habit of using <span class="EmphasisFontCategoryNonProportional ">(sn=bar)</span>. LDAP filters use prefix notation. That means the operator is first and then the operands come next. Let’s say you want to know all the entries who have the last name Foo, Bar, Baz, and Spam. You could make a filter like this: <span class="EmphasisFontCategoryNonProportional ">(|(sn=foo)(sn=bar)(sn=baz)(sn=spam))</span>. However, if you wanted to know only the people (not any entry) with the last name Foo, Bar, Baz, or Spam, you could make a filter like this: <span class="EmphasisFontCategoryNonProportional ">(&amp;(objectclass=person)(|(sn=foo)(sn=bar)(sn=baz)(sn=spam))).</span></p><p class="Para" id="Par42">One trick that I use is to set up the parentheses and operators first, and then add the attributes and values. For example, literally starting with <span class="EmphasisFontCategoryNonProportional ">(&amp;()(|()()()()))</span> then adding the conditions is easier because you know you have the syntax right from the start. If you’re using a program to generate the filters, prefix notation is easy to automate (as LISP fans can attest). Once you get the hang of it, LDAP <span id="ITerm32">filters</span><span id="ITerm33">
                
                
              </span> are fun!</p></section></section><section class="Section1 RenderAsSection1" id="Sec8"><h2 class="Heading">LDIF</h2><p class="Para" id="Par43">The LDAP Data Interchange Format, or <span id="ITerm34">LDIF</span><span id="ITerm35">
              
              
            </span>, as described in IETF RFC 2849, is one of the most important and underrated tools you’ll have in your toolbox. LDIF is a text format for representing data. It is returned by the LDAP Server when you use the <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> command-line interface <span id="ITerm36">(CLI)</span>, and it can also be used to feed instructions to the LDAP Server when you use the <span class="EmphasisFontCategoryNonProportional ">ldapmodify</span> CLI<span id="ITerm37">
              
            </span>. Both <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> and <span class="EmphasisFontCategoryNonProportional ">ldapmodify</span> will be covered later in this chapter.</p><div class="Para" id="Par44">An LDIF file always starts with the DN of the entry, and then normally is followed by attributes. Each entry is separated by at least one blank line. Don’t forget to leave a blank line after the last entry. Comments in LDIF are prefixed with a <span class="EmphasisFontCategoryNonProportional ">#</span>. If an attribute has two colons, for example see the description attribute of the second entry in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC2">2-2</a></span>, it means that the attribute is base-64 encoded. This may be necessary if the entry has characters that may confuse the LDAP Server. If you inadvertently leave a space at the end of a value, the LDAP Server will base-64 encode it. Remember that to an LDAP Server, “this” is not the same as “this ”. Also note how an attribute may have multiple values—the description attribute in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC2">2-2</a></span>, for example.<div class="ProgramCode" id="PC2"><div class="LineGroup"><div class="FixedLine"># The first entry</div><div class="FixedLine">dn: uid=bar,ou=people,dc=example,dc=com</div><div class="FixedLine">objectclass: top</div><div class="FixedLine">objectclass: person</div><div class="FixedLine">cn: Foo Bar</div><div class="FixedLine">sn: Bar</div><div class="FixedLine">uid: bar</div><div class="FixedLine">userPassword: {SSHA}GeXnaWqROzNpzdHnL8QQ==</div></div><div class="LineGroup"><div class="FixedLine"># Another entry</div><div class="FixedLine">dn: uid=baz,ou=people,dc=example,dc=com</div><div class="FixedLine">objectclass: top</div><div class="FixedLine">objectclass: person</div><div class="FixedLine">cn: Foo Baz</div><div class="FixedLine">sn: Baz</div><div class="FixedLine">uid: baz</div><div class="FixedLine">userPassword: {SSHA}FaKPP5zK6xLkR5IxXyf6_z==</div><div class="FixedLine">description:: TGFzdCBjaGFyIGlzIGEgc3BhY2Ug</div><div class="FixedLine">description: Another note about this person. <span id="ITerm38">
                    
                    
                  </span></div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-2</span><p class="SimplePara">Sample LDIF Data</p></div></div></div></div></section><section class="Section1 RenderAsSection1" id="Sec9"><h2 class="Heading">LDAP Configuration</h2><p class="Para" id="Par45">In this part, we’re going to look at two of the most important configuration tasks for LDAP: indexing and security. While each LDAP Server distribution will differ in how these features are managed, understanding how to perform these tasks is universal.</p><section class="Section2 RenderAsSection2" id="Sec10"><h3 class="Heading">Indexing</h3><p class="Para" id="Par46">When you search any database, you want to get results back quickly. The slowest process to find an entry is to look at every record. <span id="ITerm39">Indexes</span> are used to create pointers to certain data, to expedite a search. Think of it like a table of contents. If you know that people whose last name starts with a “T” begin on page 72, it will save you some page flipping. If you know everyone with the last name “Thomas’ is on page 74, you can find a specific Thomas even faster.</p><p class="Para" id="Par47">Another way to look at indexes is that they trade disk space for speed. The more indexes you have (the more notes about where the data is located), the more storage you will need. If you load indexes into memory, this can translate directly into more required RAM, too. Most LDAP Servers support several different types of indexes—presence, equality, and substring are the most common. In terms of disk space, substring is much larger than equality and presence (because there are many more substring combinations). Use substring indexing only when necessary.</p><p class="Para" id="Par48">This tradeoff of disk space and memory for speed is not only worthwhile, it’s essential. For IAM LDAP Servers, search speed translates directly into extra authentications per second. Indexes also make write operations faster. For an IAM infrastructure, all scoped searches (one level or subtree) must be indexed. If the LDAP Server has to look through every leaf, the performance will be terrible, and it may even crash (or seem to crash).</p><div class="FormalPara FormalParaRenderingStyle1 ParaTypeImportant" id="FPar2"><h3 class="Heading">Note</h3><p class="Para" id="Par49">All scoped searches MUST be indexed!</p></div><div class="Para" id="Par50">Most LDAP Servers will create a log message if there is an unindexed search. OpenLDAP will have a log message “not indexed”, Fedora Directory Server “notes=U”, OpenDJ uses “unindexed”. It’s also useful to see how many entries were returned by this search, and how much time the search took to <span id="ITerm40">execute</span>. Here is a sample log from OpenDJ, which could indicate a problem:<div class="ProgramCode" id="PC3"><div class="LineGroup"><div class="FixedLine">[4/Jun/2015:15:47:23 +0000] SEARCH RES conn=1134564 op=4 msgID=223 result=0 nentries=1 unindexed etime=32</div></div></div></div><p class="Para" id="Par51">Make sure to figure out the time units for <span class="EmphasisFontCategoryNonProportional ">etime</span>—seconds, milliseconds, or nanoseconds. If <span class="EmphasisFontCategoryNonProportional ">etime=32</span> were 32 seconds, that’s a red flag. Any LDAP search that takes more than a few milliseconds to complete indicates a problem. The culprit for this long search is clearly visible—the keyword <span class="EmphasisFontCategoryNonProportional ">unindexed</span>. There are some tools that can help you analyze large LDAP log files. For OpenDJ, look at the “slowops” and “topfilters” scripts from Chris Ridd at <span class="ExternalRef"><a href="https://github.com/chrisridd/opendj-utils"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">https://github.com/chrisridd/opendj-utils</span>
                </span></a></span> and also at “logconv7.pl”, converted from the original Sun script by Ludo Poitou at <span class="ExternalRef"><a href="https://github.com/ludomp/opendj-utils"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">https://github.com/ludomp/opendj-utils</span>
                </span></a></span>. An equivalent tool for OpenLDAP is LDAP-Stats, which can be found at <span class="ExternalRef"><a href="http://prefetch.net/code/ldap-stats.pl.html"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">http://prefetch.net/code/ldap-stats.pl.html</span>
                </span></a></span>. For FDS, there is the LDAP Access Parser at <span class="ExternalRef"><a href="https://github.com/aidan-/ldap-access-parser"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">https://github.com/aidan-/ldap-access-parser</span>
                </span></a></span>.</p><p class="Para" id="Par52">One thing you should look out for is called the “allids threshold”. The <span class="EmphasisFontCategoryNonProportional ">allIDs</span> entry stands for a special index entry that stands for “every entry in the database.” It saves space and never needs updating. For example, make an index for all the people with an “E” in their names, this may approach the size of every person in your LDAP Server. Many servers enable you to tune the number at which indexing is abandoned. In OpenLDAP, there is a variable called <span class="EmphasisFontCategoryNonProportional ">SLAPD_LDBM_MIN_MAXIDS</span>. In FDS, there is a global database configuration attribute called <span class="EmphasisFontCategoryNonProportional ">allidsthreshold</span>. In OpenDJ, this index can be set for each attribute. Tuning the <span class="EmphasisFontCategoryNonProportional ">allids</span> threshold is a good idea when you see an unindexed warning in the logs, but it seems like the index for this attribute is configured. In this case, if you examine the search, it may have triggered an index that exceeds the threshold.</p><p class="Para" id="Par53">How to view and update <span id="ITerm41">indexes</span> is always well-documented in the LDAP Server documentation. Tactically, what you need to know is that if the LDAP performance is bad, or LDAP is using too much CPU, the most common root cause is missing indexes. Look at the indexes first!</p></section><section class="Section2 RenderAsSection2" id="Sec11"><h3 class="Heading">LDAP Security</h3><p class="Para" id="Par54">LDAP is a connection-oriented <span id="ITerm42">protocol</span><span id="ITerm43">
                
                
                
              </span>. A client may request operations anonymously, and at some point may authenticate to the server to gain additional privileges. In IAM deployments, anonymous access should be disabled. Simple authentication is accomplished by specifying the distinguished name of a directory entry and the entry’s password (stored in the userPassword attribute). Client certificate authentication could be accomplished using StartTLS, and other types of authentication could be implemented with SASL authentication. The authentication process is called “binding” in LDAP, because the connection is made first, and then an identity is bound (or associated) to the connection.</p><div class="Para" id="Par55">In most LDAP Servers, there are “superuser” accounts, which may have special privileges to bypass access controls and search limitations. These entries may be stored in the configuration, not in the data itself. For example, OpenDJ stores superuser <span id="ITerm44">accounts</span><span id="ITerm45">
                
                
                
              </span> are under the entry <span class="EmphasisFontCategoryNonProportional ">cn=Root DNs,cn=config</span>. The default LDIF will give you an idea of the special privileges conveyed to superusers. See Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC4">2-3</a></span>.<div class="ProgramCode" id="PC4"><div class="LineGroup"><div class="FixedLine">dn: cn=Root DNs,cn=config</div><div class="FixedLine">objectClass: ds-cfg-root-dn</div><div class="FixedLine">objectClass: top</div><div class="FixedLine">cn: Root DNs</div><div class="FixedLine">ds-cfg-default-root-privilege-name: bypass-lockdown</div><div class="FixedLine">ds-cfg-default-root-privilege-name: bypass-acl</div><div class="FixedLine">ds-cfg-default-root-privilege-name: modify-acl</div><div class="FixedLine">ds-cfg-default-root-privilege-name: config-read</div><div class="FixedLine">-cfg-default-root-privilege-name: config-write</div><div class="FixedLine">ds-cfg-default-root-privilege-name: ldif-import</div><div class="FixedLine">ds-cfg-default-root-privilege-name: ldif-export</div><div class="FixedLine">ds-cfg-default-root-privilege-name: backend-backup</div><div class="FixedLine">ds-cfg-default-root-privilege-name: backend-restore</div><div class="FixedLine">ds-cfg-default-root-privilege-name: server-lockdown</div><div class="FixedLine">ds-cfg-default-root-privilege-name: server-shutdown</div><div class="FixedLine">ds-cfg-default-root-privilege-name: server-restart</div><div class="FixedLine">ds-cfg-default-root-privilege-name: disconnect-client</div><div class="FixedLine">ds-cfg-default-root-privilege-name: cancel-request</div><div class="FixedLine">ds-cfg-default-root-privilege-name: password-reset</div><div class="FixedLine">ds-cfg-default-root-privilege-name: update-schema</div><div class="FixedLine">ds-cfg-default-root-privilege-name: privilege-change</div><div class="FixedLine">ds-cfg-default-root-privilege-name: unindexed-search</div><div class="FixedLine">ds-cfg-default-root-privilege-name: subentry-write</div><div class="FixedLine">ds-cfg-default-root-privilege-name: changelog-read</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-3</span><p class="SimplePara">OpenDJ Root DN privileges</p></div></div></div></div><p class="Para" id="Par56">Like a root user in Linux, the superuser LDAP account is really powerful. It can remove the entire database! So normally, you don’t want to give this credential to anyone except administrators responsible for LDAP <span id="ITerm46">operation</span><span id="ITerm47">
                
                
                
              </span>.</p><p class="Para" id="Par57">LDAP is great as a backend persistence service for the IAM infrastructure, but it should be deprecated as an application identity interface—better to use web-based APIs. If your back is to the wall and you absolutely must give an application LDAP credentials, you will have to create a new account with access appropriate to the application’s purpose.</p><div class="Para" id="Par58">The first decision is where to put these accounts. A good practice is to create an organizational unit in a database separate from your actual data, for example, <span class="EmphasisFontCategoryNonProportional ">cn=config</span> could be a good place if your LDAP Server stores configuration there (see Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC5">2-4</a></span>).<div class="ProgramCode" id="PC5"><div class="LineGroup"><div class="FixedLine">dn: ou=application accounts,cn=config</div><div class="FixedLine">objectClass: top</div><div class="FixedLine">objectClass: organizationalUnit</div><div class="FixedLine">ou: application accounts</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-4</span><p class="SimplePara">Sample LDIF for an Organizational Unit to Store Application Accounts</p></div></div></div></div><div class="Para" id="Par59">And then you can create your account underneath this organizational unit. For example, something like Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC6">2-5</a></span>.<div class="ProgramCode" id="PC6"><div class="LineGroup"><div class="FixedLine">dn: cn=myaccount,ou=application accounts,cn=config</div><div class="FixedLine">objectClass: top</div><div class="FixedLine">objectClass: person</div><div class="FixedLine">cn: myaccount</div><div class="FixedLine">sn: myaccount</div><div class="FixedLine">userpassword: SpamAndEggs987</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-5</span><p class="SimplePara">Sample LDIF for an Application Account</p></div></div></div></div><p class="Para" id="Par60">Now that we have account credentials to send to the user, we need to give this account access to the data that is needed. This is trickier than it may sound, and it can impact performance. LDAP does not define a common access control model. Each vendor is left to implement its own security solution. Normally, you’ll find it in a section about “Access Control Instructions” or <span id="ITerm48">ACIs</span>. These are special operational attributes (meaning they won’t show up in the schema for the respective objectclass—they are managed by the LDAP Server). ACI syntax normally allows you to specify which <span id="ITerm49">DNs</span><span id="ITerm50">
                
                
                
              </span> can perform which operations on which part of the tree. If you can add ACIs in any part of the tree, normally a good place to do so are the structural parts of the tree—the root or the organizational units. You don’t want to put <span id="ITerm51">ACIs</span> in each leaf. The reason for this is that if an entry is returned, all ACIs need to be evaluated, which may trigger a downstream search to gather the data needed for evaluation. So it’s a good idea to minimize ACIs and to move them to the most efficient part of the tree—where they will be evaluated the minimum number of times.</p><p class="Para" id="Par61">Some LDAP Servers can support <span id="ITerm52">SSL</span> (Secure Socket Layer) and <span id="ITerm53">TLS</span> (Transport Layer Security). SSL establishes a secure connection initially, prior to LDAP communication. TLS enables an existing LDAP connection on the unencrypted port (i.e., 389) to be established and then encryption to be negotiated when the client requests the startTLS extended operation. SSL (i.e., LDAPS) is better understood by most network administrators and <span id="ITerm54">programmers</span><span id="ITerm55">
                
                
                
              </span>.</p></section></section><section class="Section1 RenderAsSection1" id="Sec12"><h2 class="Heading">Managing Data</h2><p class="Para" id="Par62">IAM administrators must be able to easily read and write LDAP <span id="ITerm56">data</span>. Luckily, there are some great tools for this: command-line interfaces (CLIs), GUIs, and APIs. It is particularly essential that IAM administrators can use the CLI, which are always available if you can get an SSH session to the LDAP Server and can be used to quickly search and modify data. We can’t possibly cover all the tools or even all the options for the tools that we reference here. Read the documentation for each tool to best familiarize yourself with its capabilities.</p><section class="Section2 RenderAsSection2" id="Sec13"><h3 class="Heading">Command-Line Tools</h3><p class="Para" id="Par63">The command-line LDAP <span id="ITerm57">tools</span> are essential to master. We are going to show OpenDJ command-line tools. <span id="ITerm58">OpenLDAP and FDS</span> command-line tools are very similar, but the options for SSL are a little different. At first, LDAP commands seem long—so many options to remember. By grouping the connection options in your head, you can simplify memorization. One trick is to think about the following: host | port, username | password, use SSL | trust self-signed certificate. Respectively these options are -h | -p, -D | -j, -Z | -X. Assuming you’re using SSL, all LDAP commands will use these options. Note that, for password authentication, the best practice is to avoid accidentally storing the root password in the shell command history. If possible, store the password in a file and remove it when you’re done.</p><section class="Section3 RenderAsSection3" id="Sec14"><h4 class="Heading">ldapsearch</h4><div class="Para" id="Par64">Let’s start with an example shown in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC7">2-6</a></span> and Table <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Tab2">2-2</a></span>.<div class="ProgramCode" id="PC7"><div class="LineGroup"><div class="FixedLine">$ /opt/opendj/bin/ldapsearch -h idp.example.com -p 1636 \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;-D "cn=directory manager" -j ~/.pw -Z -X \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;-b "o=gluu" -s one "objectclass=*" dn</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-6</span><p class="SimplePara">Sample <span id="ITerm59">ldapsearch Command</span><span id="ITerm60">
                          
                          
                        </span></p></div></div></div><div class="Table" id="Tab2"><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Table 2-2</span><p class="SimplePara">ldapsearch Command Example</p></div></div><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="tcol1 align-left"><col class="tcol2 align-left"></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <strong class="EmphasisTypeBold ">Option</strong>
                          </p></th><th style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <strong class="EmphasisTypeBold ">Description</strong>
                          </p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-h</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Hostname of the LDAP Server</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-p</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Port of the LDAP Server</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-D</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">DN of the entry to bind to the connection</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-j</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Full path to a file containing the password for the specified DN</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-Z</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Use SSL</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-X</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Trust all certificates (handy for self-signed certificates)</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-b</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">DN of the entry where you want to start your search, i.e. base DN</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-s</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Scope of the search: can be either “base”, “sub” or “one”</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">objectclass=*</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">The LDAP filter</p></td></tr><tr><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">dn</span>
                          </p></td><td style="text-align: left;"><p class="SimplePara">Attribute list, in this case only the DN attribute will be returned</p></td></tr></tbody></table></div></div><div class="Para" id="Par65"><span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> returns<span id="ITerm61">
                  
                </span><span id="ITerm62">
                  
                  
                </span> results as LDIF. Notice in this example, you can specify attributes that you want returned. If you omit attributes after the filter, the LDAP Server will return all the non-operational attributes. Consider the following, where the first <span class="EmphasisFontCategoryNonProportional ">grep</span> for <span class="EmphasisFontCategoryNonProportional ">mail</span> removes the <span class="EmphasisFontCategoryNonProportional ">dn</span> and <span class="EmphasisFontCategoryNonProportional ">blank</span> lines; the <span class="EmphasisFontCategoryNonProportional ">perl</span> one-liner only prints the second column, thus removing all the <span class="EmphasisFontCategoryNonProportional ">mail:</span> line prefixes. Finally, this output is directed to a local file (see Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC8">2-7</a></span>).<div class="ProgramCode" id="PC8"><div class="LineGroup"><div class="FixedLine">$ /opt/opendj/bin/ldapsearch -h idp.example.com -p 1636 \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;-D "cn=directory manager" -j ~/.pw -Z -X \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;-b "o=gluu" "(&amp;(l=Austin)(objectclass=person))" \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;mail| grep mail | perl -nale \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;'shift@F;print"@F"'&gt; austin_email_list.txt</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-7</span><p class="SimplePara">Sample ldapsearch Command to Extract Email Addresses for People in Austin</p></div></div></div></div><div class="Para" id="Par66">One of the advantages of a tree structure is that you can narrow your search to the part of the tree you care about: <span class="EmphasisFontCategoryNonProportional ">subtree</span> includes the base DN you specified, plus the whole tree below it; <span class="EmphasisFontCategoryNonProportional ">base</span> indicates you only want the entry returned of the base DN that you specified; <span class="EmphasisFontCategoryNonProportional ">one</span> indicates that you just want entries returned that are one level below the base DN. A subtree search is the default, so you only need to specify the <span class="EmphasisFontCategoryNonProportional ">-s</span> option in <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> if you want <span class="EmphasisFontCategoryNonProportional ">one</span> or <span class="EmphasisFontCategoryNonProportional ">base</span>. Consider Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig3">2-3</a></span>, where the top node has been specified as the root.<figure class="Figure" id="Fig3"><div class="MediaObject" id="MO3"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig3_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig3_HTML.jpg" style="height:21.38em" width="1063" height="855" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig3_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-3</span><p class="SimplePara">Scopes visualization</p></div></figcaption></figure></div><p class="Para" id="Par67">One thing to keep in mind when using <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span><span id="ITerm63">
                  
                </span><span id="ITerm64">
                  
                  
                </span> is that any values that contain spaces must be quoted—double quotes are typical, although single quotes in UNIX can also be handy. For example, if your <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> contains the exclamation point, Bash may interpret it as a command. In these cases, use single quotes for your parameters.</p></section><section class="Section3 RenderAsSection3" id="Sec15"><h4 class="Heading">ldapmodify</h4><div class="Para" id="Par68">Let’s start with an example shown in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC9">2-8</a></span> and Table <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Tab3">2-3</a></span>.<div class="ProgramCode" id="PC9"><div class="LineGroup"><div class="FixedLine">$ /opt/opendj/bin/ldapmodify -h idp.example.com -p 1636 \</div><div class="FixedLine">&nbsp;&nbsp;-D "cn=directory manager" -j ~/.pw -Z -X -f my.ldif</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-8</span><p class="SimplePara">Sample <span id="ITerm65">ldapmodify Command</span><span id="ITerm66">
                          
                          
                        </span></p></div></div></div><div class="Table" id="Tab3"><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Table 2-3</span><p class="SimplePara">ldapmodify Command Example</p></div></div><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="tcol1 align-left"><col class="tcol2 align-left"></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Option</p></th><th style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Description</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-h</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Hostname of the LDAP Server</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-p</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Port of the LDAP Server</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-D</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">DN of the entry to bind to the connection</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-j</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Full path to a file containing the password for the specified DN</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-z</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Use SSL</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-x</span>
                          </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">Trust all certificates (handy for self-signed certificates)</p></td></tr><tr><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                            <span class="EmphasisFontCategoryNonProportional ">-f</span>
                          </p></td><td style="text-align: left;"><p class="SimplePara">The path and filename that contains the LDIF</p></td></tr></tbody></table></div></div><p class="Para" id="Par69">Notice that the initial options are the same as for <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span>. The host, port, bind dn, bind password, and SSL connection have not changed. In this simple example, we are specifying the LDIF file, which contains the instructions on what operations to perform. In an LDIF file used for modifications, the second line of the entry specifies the <span class="EmphasisFontCategoryNonProportional ">changetype</span>, which can be <span class="EmphasisFontCategoryNonProportional ">add</span>, <span class="EmphasisFontCategoryNonProportional ">modify</span>, or <span class="EmphasisFontCategoryNonProportional ">delete</span>. If the <span class="EmphasisFontCategoryNonProportional ">changetype</span> is <span class="EmphasisFontCategoryNonProportional ">add</span>, the second line can be omitted, and you can use the <span class="EmphasisFontCategoryNonProportional ">-a</span> command-line option of <span class="EmphasisFontCategoryNonProportional ">ldapmodify</span>, which will automatically insert the <span class="EmphasisFontCategoryNonProportional ">add changetype</span> to each entry. In this way, LDIF output from <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> can be used directly as input for <span class="EmphasisFontCategoryNonProportional ">ldapmodify</span><span id="ITerm67">
                  
                </span><span id="ITerm68">
                  
                  
                </span>.</p><div class="Para" id="Par70">If you are using <span class="EmphasisFontCategoryNonProportional ">changetype: modify</span> in your LDIF, you can specify which attributes you are changing for each entry. You can string several operations for an entry by using a line with a hyphen on its own line to signal a new attribute operation. Consider this LDIF in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC10">2-9</a></span>, which adds one attribute, deletes a specific attribute value, and replaces another attribute.<div class="ProgramCode" id="PC10"><div class="LineGroup"><div class="FixedLine">dn: uid=foo,ou=people,o=example.com</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;changetype: modify</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;add: description</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;description: "Entry for Foo Bar"</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;-</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;delete: mail</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;mail: foo@spam.com</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;-</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;replace: status</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;status: active</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-9</span><p class="SimplePara">Sample ldapmodify to Update Specific <span id="ITerm69">Attributes</span><span id="ITerm70">
                          
                          
                        </span></p></div></div></div></div><div class="Para" id="Par71">Another handy trick is to use LDAP search and grep for <span class="EmphasisFontCategoryNonProportional ">^dn</span> (<span class="EmphasisFontCategoryNonProportional ">dn</span> at the beginning of the line). This can be used to create a list of all the DNs you need to modify. Consider this simple Python program in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC11">2-10</a></span>, which outputs LDIF that adds a counter to the description attribute.<div class="ProgramCode" id="PC11"><div class="LineGroup"><div class="FixedLine">#!/usr/bin/python</div></div><div class="LineGroup"><div class="FixedLine">f = open("dn_list.ldif")</div><div class="FixedLine">lines = f.readlines()</div><div class="FixedLine">f.close()</div><div class="FixedLine">c = 0</div><div class="FixedLine">for line in lines:</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;if not len(line.strip()): continue</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;c += 1</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;print line.strip()</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;print "changetype: modify"</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;print "add: description"</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;print "description: Entry #%i" % c</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;print</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-10</span><p class="SimplePara">Sample Python Script to Generate ldif for Bulk Update of <span id="ITerm71">Entries</span><span id="ITerm72">
                          
                          
                        </span></p></div></div></div></div><p class="Para" id="Par72">By effectively rendering LDIF and using <span class="EmphasisFontCategoryNonProportional ">ldapmodify</span>, you can automate many mundane tasks. LDIF is also great because it gives you a record of exactly which changes you made. Before you run it, you can visually inspect the changes. Learn to love LDIF!</p></section><section class="Section3 RenderAsSection3" id="Sec16"><h4 class="Heading">ldapdelete</h4><p class="Para" id="Par73">This tool is not technically needed, because you could use an <span id="ITerm73">LDIF</span><span id="ITerm74">
                  
                  
                </span> with <span class="EmphasisFontCategoryNonProportional ">changetype</span>: <span class="EmphasisFontCategoryNonProportional ">delete</span>. It’s provided as a convenience. You provide all the standard connection information and then provide the DN of the entry you want to release as the last argument.</p></section></section><section class="Section2 RenderAsSection2" id="Sec17"><h3 class="Heading">GUI Tools</h3><p class="Para" id="Par74">Sometimes you feel the urge to browse the data in an LDAP <span id="ITerm75">Server</span> like you would browse the file system. Luckily, there are a few good free open source LDAP clients that let you do just that. We are going to cover two here, although there are other free open source alternates.</p><div class="Para" id="Par75">For the most part, the LDAP Servers you are trying to connect to will not have LDAP exposed on an Internet-facing network interface. <span id="ITerm76">SSH port tunneling</span> is the easiest way to solve the challenge of how to use your local client to access this remote server. In some cases, multiple SSH tunnels may be required to route the traffic all the way back to your local computer. Unix SSH port forwarding is accomplished with the <span class="EmphasisFontCategoryNonProportional ">-L</span> command, for example:<div class="ProgramCode" id="PC12"><div class="LineGroup"><div class="FixedLine">$ ssh -L localport:host:hostport user@ssh_server</div></div></div></div><div class="Para" id="Par76">If you are a Windows user, and you are using the popular FOSS SSH tool <span id="ITerm77">Putty</span>, you configure tunneling in the SSH section of the profile, as shown in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig4">2-4</a></span>.<figure class="Figure" id="Fig4"><div class="MediaObject" id="MO4"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig4_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig4_HTML.jpg" style="height:37.88em" width="1713" height="1515" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig4_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-4</span><p class="SimplePara">Sample tunnel configuration in Windows Putty SSH <span id="ITerm78">client</span></p></div></figcaption></figure></div><p class="Para" id="Par77">One important thing to remember when port forwarding is that you will be connecting to the LDAP Server using the hostname localhost. This may sound counterintuitive, but it’s because the tunnel is doing its job and broadcasting the remote traffic on your workstation’s network.</p><section class="Section3 RenderAsSection3" id="Sec18"><h4 class="Heading">Apache Directory Studio</h4><div class="Para" id="Par78">One of the best free open source LDAP tools available, <span id="ITerm79">Apache Directory Studio</span><span id="ITerm80">
                  
                  
                </span> has a rich set of features and provides an Eclipse-based user interface. Although the schema editor and ACI editor will work only for OpenLDAP, the LDAP browser can be used with any LDAP v3 server, and the color formatting of the LDIF editor will help you see mistakes before you save your document. As it is Java software, you’ll need a local JVM and to set your <span class="EmphasisFontCategoryNonProportional ">JAVA_HOME</span> environment variable. Once that’s done, you can unzip Apache Directory Studio anywhere. For more information, check out the documentation on their website. See an example of its interface in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig5">2-5</a></span>.<figure class="Figure" id="Fig5"><div class="MediaObject" id="MO5"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig5_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig5_HTML.jpg" style="height:30.55em" width="1725" height="1222" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig5_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-5</span><p class="SimplePara">Apache Directory Studio LDAP <span id="ITerm81">browser</span><span id="ITerm82">
                          
                          
                        </span></p></div></figcaption></figure></div></section><section class="Section3 RenderAsSection3" id="Sec19"><h4 class="Heading">JXplorer</h4><div class="Para" id="Par79">Another free open source graphical LDAP client is maintained by Christopher Betts, called <span id="ITerm83">JXplorer</span><span id="ITerm84">
                  
                  
                </span>. It was originally donated to the open source community by Computer Associates, where it was first developed as part of the eTrust Directory project. It’s handy for browsing, searching, and editing entries. There is also a commercial version that sells for a very nominal amount with a few more features. There are several binaries available for Windows, Mac, Linux, and other platforms. See an example of its interface in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig6">2-6</a></span>.<figure class="Figure" id="Fig6"><div class="MediaObject" id="MO6"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig6_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig6_HTML.jpg" style="height:27.35em" width="1725" height="1094" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig6_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-6</span><p class="SimplePara">JXplorer LDAP <span id="ITerm85">browser/editor</span><span id="ITerm86">
                          
                          
                        </span></p></div></figcaption></figure></div></section><section class="Section3 RenderAsSection3" id="Sec20"><h4 class="Heading">Web2LDAP</h4><div class="Para" id="Par80">If you’d like to have a web-based LDAP client, something like phpMyAdmin for LDAP, you’re in luck. You can use the <span id="ITerm87">Web2LDAP</span><span id="ITerm88">
                  
                </span>, written by Michael Ströder, who is also the author of one of the most popular Python LDAP modules. It gives you a lot of information, even the operational attributes and information about the schema of the entry. See an example of its interface in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig7">2-7</a></span>.<figure class="Figure" id="Fig7"><div class="MediaObject" id="MO7"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig7_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig7_HTML.jpg" style="height:27.45em" width="1725" height="1098" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig7_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-7</span><p class="SimplePara">Web2LDAP <span id="ITerm89">client</span><span id="ITerm90">
                          
                        </span></p></div></figcaption></figure></div></section><section class="Section3 RenderAsSection3" id="Sec21"><h4 class="Heading">phpLDAPAdmin</h4><div class="Para" id="Par81">A tool designed to help administrators manage data in LDAP, it is normally configured to point at a specific LDAP <span id="ITerm91">Server</span><span id="ITerm92">
                  
                  
                </span>. If you’re using Centos or Ubuntu, search for a package called phpldapadmin, which should install the software and configure the Apache virtual hosts files. The configuration file is stored in <span class="EmphasisFontCategoryNonProportional ">/etc/phpldapadmin/config.php</span>. I’m not sure I love the idea of a web client preconfigured to point at my LDAP Server. If you had to VPN to get to this interface or the Apache server was only listening on localhost (and you tunnel via SSH), you could mitigate some of the risk. See an example of its interface in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig8">2-8</a></span>.<figure class="Figure" id="Fig8"><div class="MediaObject" id="MO8"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig8_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig8_HTML.jpg" style="height:27.68em" width="1725" height="1107" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig8_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-8</span><p class="SimplePara">
                        <span id="ITerm93">phpLDAPadmin</span>
                        <span id="ITerm94">
                          
                          
                        </span>
                      </p></div></figcaption></figure></div></section><section class="Section3 RenderAsSection3" id="Sec22"><h4 class="Heading">FusionDirectory</h4><div class="Para" id="Par82">Not a directory itself, it’s actually a web interface for <span id="ITerm95">LDAP</span> written in PHP that provides its own access management strategy (by using a custom attribute) and several convenient plugins to manage schema for other common enterprise tools that use LDAP (like Samba, OpenSSH, and EJBCA). Packages are available for several Linux distributions. I haven’t used it, but it’s worth taking a look. See an example of its interface in Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig9">2-9</a></span>.<figure class="Figure" id="Fig9"><div class="MediaObject" id="MO9"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig9_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig9_HTML.jpg" style="height:9.42em" width="1725" height="377" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig9_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-9</span><p class="SimplePara">
                        <span id="ITerm96">FusionDirectory</span>
                      </p></div></figcaption></figure></div></section></section><section class="Section2 RenderAsSection2" id="Sec23"><h3 class="Heading">SDKs</h3><p class="Para" id="Par83">Almost every programming <span id="ITerm97">language</span><span id="ITerm98">
                
                
              </span> has a client library for LDAP. Most of the libraries will enable the basics: connect, search, modify, bind, compare. The better libraries provide more functionality to help with connection pooling, implementing transactional behavior, or providing other productive helper libraries. If data transformation is the goal, I recommend just creating LDIF files for this purpose. For dynamic enterprise software applications, you’ll need an API. However, as very few applications should use the LDAP interface (except the IAM components themselves), it’s hard to say when this use case would arise.</p><p class="Para" id="Par84">If you must write an LDAP application, one of the best client LDAP libraries available is written in Java and maintained by the UnboundID group at Ping Identity. This client is used extensively in the Gluu Server and many other projects. You can download it from <span class="ExternalRef"><a href="https://www.ldap.com/unboundid-ldap-sdk-for-java"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">https://www.ldap.com/unboundid-ldap-sdk-for-java</span>
                </span></a></span>. If that location changes, just Google for “UnboundID LDAP SDK.” It’s comprehensive, well documented, well maintained, widely used in production, and has a GPLv2 open source license. I highly recommend using this library over the standard Java JNDI libraries.</p><p class="Para" id="Par85">Another recommended library is <span class="EmphasisFontCategoryNonProportional ">python-ldap</span>, maintained by Michael Ströder. For direct LDAP operations, it wraps the OpenLDAP C libraries. It also has a handy class for parsing and generating LDIF.</p></section></section><section class="Section1 RenderAsSection1" id="Sec24"><h2 class="Heading">Operational Considerations</h2><p class="Para" id="Par86">What are the key operational considerations for running a robust LDAP service? In order to achieve five nines (99.999%) availability, you need to either get lucky or build an active-active cluster. You’ll also need to have a good plan in place for how to benchmark the performance of the LDAP service, to collect current performance metrics, to back up the data, and to periodically analyze the logs for long searches.</p><div class="FormalPara FormalParaRenderingStyle1 ParaTypeImportant" id="FPar3"><h3 class="Heading">Note</h3><p class="Para" id="Par87">Research the server Linux configuration requirements. For example, make sure you have expanded the available file descriptors to at least 65,000. This is one of the most common mistakes. The LDAP Server makes lots of connections. You don’t want to be limited to the default file descriptor limit, which is around 1,000!</p></div><section class="Section2 RenderAsSection2" id="Sec25"><h3 class="Heading">Replication</h3><div class="Para" id="Par88">LDAP is known for ease of data <span id="ITerm99">replication</span><span id="ITerm100">
                
                
              </span>. However, vendors implement very different strategies, sometimes solving replication at the database level. There was quite a bit of innovation in the area of LDAP replication. As LDAP Servers were announced, the ability to have more “master” servers expanded from two to unlimited in many LDAP Server platforms. There are many challenges with LDAP replication, including but not limited to:<div class="UnorderedList"><ul class="UnorderedListMarkBullet"><li><p class="Para" id="Par89">Reducing traffic on wide area network links</p></li><li><p class="Para" id="Par90">Minimizing the size of the replication data stored in each entry</p></li><li><p class="Para" id="Par91">Managing colliding transactions (for example, an update after a delete)</p></li><li><p class="Para" id="Par92">Reporting synchronization status for each server in the topology</p></li></ul></div></div><p class="Para" id="Par93">You’ll have to read the documentation for your exact version of LDAP Server to know how to initialize new replicas, create and remove replication agreements, and monitor the health of your topology. Frequently, there is a replication service running that makes sure the data is in sync and communicates changes to the other members of the topology. The server documentation should also contain information about how to manage the replication topology and what to do when things go wrong.</p></section><section class="Section2 RenderAsSection2" id="Sec26"><h3 class="Heading">Benchmark</h3><p class="Para" id="Par94">It’s really important to understand the capabilities of an LDAP <span id="ITerm101">Server</span>. Lots of factors can influence performance, including hardware, software, the profile of LDAP operation traffic, the size of the data entries, the size of the entire data set, the LDAP configuration, or even the configuration of the underlying database. You don’t know how fast it is unless you try it! Luckily, there are a few tools that can make that easier.</p><div class="Para" id="Par95">The first set of tools to consider are <span class="EmphasisFontCategoryNonProportional ">searchrate</span>, <span class="EmphasisFontCategoryNonProportional ">modrate</span>, and <span class="EmphasisFontCategoryNonProportional ">authrate</span>, which can be built as part of the UnboundID LDAP SDK for Java on their GitHub site at <span class="ExternalRef"><a href="https://github.com/UnboundID/ldapsdk"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">https://github.com/UnboundID/ldapsdk</span>
                </span></a></span>. These command-line tools enable you to quickly test the capacity of your server; <span class="EmphasisFontCategoryNonProportional ">searchrate</span> produces output such as shown in Table <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Tab4">2-4</a></span>.<div class="Table" id="Tab4"><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Table 2-4</span><p class="SimplePara">Sample searchrate Output</p></div></div><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="tcol1 align-left"><col class="tcol2 align-left"><col class="tcol3 align-left"><col class="tcol4 align-left"><col class="tcol5 align-left"><col class="tcol6 align-left"><col class="tcol7 align-left"><col class="tcol8 align-left"><col class="tcol9 align-left"></colgroup><thead><tr><th colspan="4" style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Throughput (Ops/Second)</strong>
                        </p></th><th colspan="5" style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Response Time (Milliseconds)</strong>
                        </p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Recent</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Average</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Recent</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Average</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">99.9%</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">99.99%</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">99.999%</strong>
                        </p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Err/Sec</strong>
                        </p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">
                          <strong class="EmphasisTypeBold ">Entries/Search</strong>
                        </p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">2260.7</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">2262.8</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">6.219</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">6.219</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">413.842</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">476.425</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">476.817</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">0.0</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">1.5</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">3857.5</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">3178.3</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">4.149</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">4.777</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">352.825</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">476.404</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">500.017</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">0.0</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">0.8</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">5078.2</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">3753.2</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">2.825</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">3.978</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">360.940</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">460.154</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">500.017</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">0.0</p></td><td style="border-bottom: 0.5pt solid ; text-align: left;"><p class="SimplePara">1.0</p></td></tr><tr><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">4557.7</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">3934.5</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">3.411</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">3.830</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">352.480</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">455.638</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">500.017</p></td><td style="border-right: 0.5pt solid ; text-align: left;"><p class="SimplePara">0.0</p></td><td style="text-align: left;"><p class="SimplePara">1.0</p></td></tr></tbody></table></div></div><p class="Para" id="Par96">The columns are pretty self-explanatory. The entries/search value is computed by counting the number of returned entries and dividing by the number of search results. The reason the entries/search value is not initially one is due to the fact that the LDAP search was “warming up”—loading relevant data into memory. During benchmarking, it’s common to include a warm-up period to make sure that the LDAP Server has been activated in memory, as would be the case in production under load.</p><p class="Para" id="Par97">Another tool for <span id="ITerm102">benchmarking</span> is called <span id="ITerm103">SLAMD</span>, by Neil Wilson, which can be found at <span class="ExternalRef"><a href="http://dl.thezonemanager.com/slamd/"><span class="RefSource">
                  <span class="EmphasisFontCategoryNonProportional ">http://dl.thezonemanager.com/slamd/</span>
                </span></a></span>. The first component is a server that collects data; the second is a client that generates load. For high-end benchmarking, these tools are really handy. You can generate lots of load by creating many clients, each of which uses many threads. In a typical deployment, you might have one SLAMD server that is dedicated to getting results, many clients that are responsible for generating load, and many LDAP Servers that are being tested as part of a replicated topology. In this way, the server generating or collecting results doesn’t impart the performance of your target LDAP Server. Another advantage of SLAMD is that you can use several different “jobs,” which can perform a specific combination of operations. The goal is to generate the type of traffic that would be typical in production. For example, the <span class="EmphasisFontCategoryNonProportional ">searchrate</span> command-line tool might not be a good gauge of reality if a typical transaction involves a search, an authentication, and then a several write operations. You might also want to customize <span id="ITerm104">information</span> collected during load testing. For example, for a given load, how is the CPU and disk usage on the LDAP Servers? Perhaps you want to map some custom variables onto your graph. SLAMD is extensible and can enable you to do this.</p></section><section class="Section2 RenderAsSection2" id="Sec27"><h3 class="Heading">Backup/Restore</h3><p class="Para" id="Par98">There are a few strategies for backing up LDAP <span id="ITerm105">Servers</span>: binary backups of the database, file system backups of the folder, server image <span id="ITerm106">backups</span>, and LDIF exports of the data in a standard format. My recommendation is to use LDIF for backup to supplement your speedier binary backups. The advantage of LDIF is that in a pinch, the data can be loaded relatively quickly, and if an entry gets corrupted, you can always ignore it and proceed with the rest of the backup. LDIF gives you an insurance policy.</p><p class="Para" id="Par99">It’s really important that you test the backup/restore process from both binary and LDIF sources. You don’t want to find out that your restore process doesn’t work just at the time the backup is most needed. If backups can be scheduled automatically, it is nice to have daily data backups for a week or more.</p></section><section class="Section2 RenderAsSection2" id="Sec28"><h3 class="Heading">Monitoring</h3><div class="Para" id="Par100">You will need to get data back indicating the current health of the LDAP Server. One way to do this is to make a quick search to the directory. The following searches are specific for OpenDJ, but similar approaches could be utilized to <span id="ITerm107">monitor</span> other LDAP Servers, which frequently publish some performance data as LDAP.<div class="ProgramCode" id="PC13"><div class="LineGroup"><div class="FixedLine"># /opt/opendj/bin/ldapsearch -h localhost -p 1636 \</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;-D "cn=directory manager" -j ~/.pw -Z -X&nbsp;&nbsp;\</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;-s base -b "cn=monitor" "objectclass=*" currentconnection</div></div><div class="LineGroup"><div class="FixedLine">dn: cn=monitor currentconnections: 12</div></div></div></div><p class="Para" id="Par101">This namespace <span id="ITerm108">
                <span class="EmphasisFontCategoryNonProportional ">cn=monitor</span>
                
              </span> is a special place where many LDAP Servers store information about performance. The results of this search told you two things: that the server is up and running and that the current number of connections to the server is 12. If this number is steadily going up and never goes down, it may indicate a connection leak somewhere in your software stack. There is some more useful information under <span class="EmphasisFontCategoryNonProportional ">cn=monitor</span> that you might want to watch. See the documentation for more <span id="ITerm109">information</span> on what the attributes are tracking.</p><p class="Para" id="Par102">You’ll also want to keep an eye on the normal stuff—CPU and disk space. Make sure the logs are rotating properly. If they are not, adjust the settings in the LDAP Server configuration (and make sure you get a warning by the time the disk space is 80% full!).</p></section></section><section class="Section1 RenderAsSection1" id="Sec29"><h2 class="Heading">Synchronization</h2><p class="Para" id="Par103">For the foreseeable future, data about people is sprinkled across organizational systems. Identity management gurus aim to change business <span id="ITerm110">processes</span><span id="ITerm111">
              
              
            </span> to consolidate data about people. IAM gurus don’t have time to wait for business processes to change, so we try to use data about people wherever it happens to reside.</p><p class="Para" id="Par104">There are some data repositories that contain a lot of information about people, while others contain a small amount of high value data. If data about a person from a disparate system is needed to make an access decision, it’s faster if all the required information about people is cached for quick retrieval. For this reason, what you frequently need is a “data mart”—a place to hold information about a person, aggregated in one convenient, high-performance local database.</p><p class="Para" id="Par105">While creating this data mart, you will need to create a mapping for how to get the information from various backend systems. When and if the business process is cleaned up by the identity management gurus, the mapping is updated. In this way, deploying the perfect IDM is not a blocker for the initial deployment of a centralized IAM.</p><div class="Para" id="Par106">Complexity is the enemy of security and performance. Figure <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#Fig10">2-10</a></span> illustrates the advantage of a data mart when identity is distributed across many backend data silos. If the IAM platform in this scenario connects to each identity silo, end users may need to take a nap while waiting for an authentication response. If the IAM platform can get information about the person from a database pre-loaded in memory, it’s possible to achieve much higher throughput, sometimes thousands of transactions per second.<figure class="Figure" id="Fig10"><div class="MediaObject" id="MO10"><img alt="../images/425975_1_En_2_Chapter/425975_1_En_2_Fig10_HTML.jpg" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/425975_1_En_2_Fig10_HTML.jpg" style="height:20.28em" width="1456" height="811" data-mfp-src="/library/view/securing-the-perimeter/9781484226018/images/425975_1_En_2_Chapter/425975_1_En_2_Fig10_HTML.jpg"></div><figcaption class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Figure 2-10</span><p class="SimplePara">Overview of identity data mart</p></div></figcaption></figure></div><p class="Para" id="Par107">How can you aggregate the <span id="ITerm112">information</span><span id="ITerm113">
              
              
            </span> you need and keep it up to date? How will you quickly compare data sets to make sure some changes didn’t get missed, detecting any discrepancies in the data sets?</p><p class="Para" id="Par108">Let’s assume that the data mart is an LDAP Server. The goal is to populate this LDAP Server with the latest and greatest information about people, so it’s available for policy evaluation and to be shared with applications across the enterprise.</p><p class="Para" id="Par109">There is no way to efficiently manage a large amount of data manually. We’re going to have to do some programming. The examples will use Python, but the concepts are generic and can be ported to any language.</p></section><section class="Section1 RenderAsSection1" id="Sec30"><h2 class="Heading">Sets and Hashing</h2><p class="Para" id="Par110">The first part of our recipe for synchronization is <span id="ITerm114">hashing</span>. A <span id="ITerm115">hash algorithm</span> is a function that converts data into a shorter unique output of fixed length. Although it’s impossible to prove, good hash functions provide an assurance that no two inputs should result in the same hash value output. If anything about the data changes, the hash value will be different.</p><p class="Para" id="Par111">Remember <em class="EmphasisTypeItalic ">set theory</em>? It’s the second part of our sync recipe. Perhaps you are experiencing a flashback to your school math class? Although in academic mathematics, set theory is a major area of research, for IAM, we’re only going to use the basics. <span class="EmphasisFontCategoryNonProportional ">Set</span> operations are magically efficient at figuring out what changed between two data sets.</p><div class="Para" id="Par112">Most programming languages have native support for basic <span class="EmphasisFontCategoryNonProportional ">Set</span> operations<span id="ITerm116">
              
            </span>. For example, let’s consider the code shown in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC14">2-11</a></span>, which shows <span class="EmphasisFontCategoryNonProportional ">Set</span> operations in Python.<div class="ProgramCode" id="PC14"><div class="LineGroup"><div class="FixedLine">&gt;&gt;&gt; # Create set objects</div><div class="FixedLine">&gt;&gt;&gt; from sets import Set</div><div class="FixedLine">mon_list = ["bob", "amy", "tom", "jon", "peg"]</div><div class="FixedLine">&gt;&gt;&gt; tue_list = ["bob", "amy", "tom", "sal", "jen"]</div><div class="FixedLine">mon = Set(mon_list)</div><div class="FixedLine">&gt;&gt;&gt; tue = Set(tue_list)</div></div><div class="LineGroup"><div class="FixedLine">&gt;&gt;&gt; # Union</div><div class="FixedLine">&gt;&gt;&gt; all_items = mon | tue</div><div class="FixedLine">&gt;&gt;&gt; print list(all_items)</div><div class="FixedLine">['amy', 'peg', 'tom', 'sal', 'bob', 'jen', 'jon']</div></div><div class="LineGroup"><div class="FixedLine">&gt;&gt;&gt; # Intersection</div><div class="FixedLine">&gt;&gt;&gt; common_items = mon &amp; tue</div><div class="FixedLine">&gt;&gt;&gt; print list(common_items)</div><div class="FixedLine">['amy', 'bob', 'tom']</div></div><div class="LineGroup"><div class="FixedLine">&gt;&gt;&gt; # Difference</div><div class="FixedLine">&gt;&gt;&gt; not_tue = mon - tue</div><div class="FixedLine">&gt;&gt;&gt; print list(not_tue)</div><div class="FixedLine">['peg', 'jon']</div><div class="FixedLine">&gt;&gt;&gt; not_mon = tue - mon</div><div class="FixedLine">&gt;&gt;&gt; print list(not_mon)</div><div class="FixedLine">['sal', 'jen']</div></div><div class="LineGroup"><div class="FixedLine">&gt;&gt;&gt; # Symmetric Difference</div><div class="FixedLine">&gt;&gt;&gt; part_timers = mon ^ tue</div><div class="FixedLine">&gt;&gt;&gt; print list(part_timers)</div><div class="FixedLine">['sal', 'peg', 'jen', 'jon'] <span id="ITerm117">
                    
                    
                  </span></div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-11</span><p class="SimplePara">Sample <span id="ITerm118">Python Set Operations</span><span id="ITerm119">
                      
                      
                    </span></p></div></div></div></div><div class="Para" id="Par113">Let’s say you have two big data sets. One is a list of people from today, and one is from a week ago. If you want to figure out who was added or who is missing, <span class="EmphasisFontCategoryNonProportional ">Set</span> operations<span id="ITerm120">
              
            </span> can instantly answer your question. The basic strategy:<div class="OrderedList"><ol><li class="ListItem"><span class="ItemNumber">1.</span><div class="ItemContent"><p class="Para" id="Par114">Normalize the data.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">2.</span><div class="ItemContent"><p class="Para" id="Par115">Hash the data.</p></div><div class="ClearBoth">&nbsp;</div></li><li class="ListItem"><span class="ItemNumber">3.</span><div class="ItemContent"><p class="Para" id="Par116">Compare the hash values—if they’re different, something about this person’s data has changed.</p></div><div class="ClearBoth">&nbsp;</div></li></ol></div></div><p class="Para" id="Par117">When you hash the data, the order of the information, whitespace, and capitalization must all be the same, or you will get a different hash result. You can take steps to ensure the data is formatted the same. For example, lowercase the string or trim the whitespace. Performing this task is called “normalization”.</p><div class="Para" id="Par118">Let’s look at a small example. Let’s say you create a file with the primary key for several people, plus the hash value of their data. Let’s call this <span class="EmphasisFontCategoryNonProportional ">fn1.txt</span> (see Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC15">2-12</a></span>).<div class="ProgramCode" id="PC15"><div class="LineGroup"><div class="FixedLine">bob:b063b8e6029ba27fdb084edc2cea4572acab360adbd2ad9217ce8d71 amy:c62bde4140cff7ec3e8d253ea709e389366caea034e68d58c76a9721 tom:0bf6cb62649c42a9ae3876ab6f6d92ad36cb5414e495f8873292be4d jon:604383ab56fb3b6c29c7ee98a7cbfb953a026e3c5649de0e8d333b78 peg:d00565ed92bc556704c3b5fb75d11cd8ee843d12acedb4be525303a0</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-12</span><p class="SimplePara">Sample Hash Values for <span id="ITerm121">fn1.txt</span></p></div></div></div></div><div class="Para" id="Par119">And a second one that looks like this called <span class="EmphasisFontCategoryNonProportional ">fn2.txt</span> (see Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC16">2-13</a></span>).<div class="ProgramCode" id="PC16"><div class="LineGroup"><div class="FixedLine">bob:e047c44d875407fdb49d53d8b2326fc3e20e27f08434fef1275a3981 amy:c62bde4140cff7ec3e8d253ea709e389366caea034e68d58c76a9721 tom:0bf6cb62649c42a9ae3876ab6f6d92ad36cb5414e495f8873292be4d jon:604383ab56fb3b6c29c7ee98a7cbfb953a026e3c5649de0e8d333b78 pam:f9da1e2be595c9dec9dcfa77b942ca0de1c6d445788df18e73720712</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-13</span><p class="SimplePara">Sample hash values for <span id="ITerm122">fn2.txt</span></p></div></div></div></div><div class="Para" id="Par120">Let’s make a few observations about this data. First, the hash value for <span class="EmphasisFontCategoryNonProportional ">bob</span> has changed. Second, <span class="EmphasisFontCategoryNonProportional ">peg</span> has dropped out of the second file. Third, <span class="EmphasisFontCategoryNonProportional ">pam</span> is new in the second file. A short Python script could be written like Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC17">2-14</a></span> to find which users <span id="ITerm123">changed</span>.<div class="ProgramCode" id="PC17"><div class="LineGroup"><div class="FixedLine">#!/usr/bin/python</div></div><div class="LineGroup"><div class="FixedLine">from sets import Set</div></div><div class="LineGroup"><div class="FixedLine">def getPrimaryKey(line):</div><div class="FixedLine">return line.split(":")[0]</div></div><div class="LineGroup"><div class="FixedLine">f = open("fn1.txt")</div><div class="FixedLine">file1_users = Set(f.readlines())</div><div class="FixedLine">f.close()</div></div><div class="LineGroup"><div class="FixedLine">f = open("fn2.txt")</div><div class="FixedLine">file2_users = Set(f.readlines())</div><div class="FixedLine">f.close()</div></div><div class="LineGroup"><div class="FixedLine"># People who changed in file 2</div><div class="FixedLine">change_list = file2_users ^ file1_users</div><div class="FixedLine">primary_keys = map(getPrimaryKey, change_list)</div><div class="FixedLine">print list(Set(primary_keys))</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-14</span><p class="SimplePara">
                    <span id="ITerm124">Python Set Sample Code</span>
                  </p></div></div></div></div><div class="Para" id="Par121">Running this program produces the following output:<div class="ProgramCode" id="PC18"><div class="LineGroup"><div class="FixedLine">['bob', 'peg', 'pam']</div></div></div></div><p class="Para" id="Par122">The <span id="ITerm125">program</span> has identified all the records we need to update. This approach scales well. The one part of this program that might be a little confusing the creation of a <span class="EmphasisFontCategoryNonProportional ">Set</span> object<span id="ITerm126">
              
            </span> from a list, only to change it back to a list again? The reason is to eliminate any duplicates. For example, both of Bob’s entries in the file are unique. But we only need to update Bob’s record <span id="ITerm127">once</span>.</p></section><section class="Section1 RenderAsSection1" id="Sec31"><h2 class="Heading">Manually Synchronizing Data</h2><p class="Para" id="Par123">This section is going to focus on LDAP as the source of data, but to synchronize data from a database, or data collected by calling web services, the basic strategy is going to be the same: get data, normalize, hash, detect changes, and update the LDAP data mart.</p><p class="Para" id="Par124">There are a few strategies to monitor for changes on a source LDAP Server. Some LDAP Servers have a changelog—this varies between <span id="ITerm128">implementations</span>. A basic strategy that works well is to search using the LDAP protocol and detect by comparing periodic snapshots of the data (especially if hashing makes it really easy to find changes, as described previously).</p><div class="Para" id="Par125">You could connect to an external LDAP Server using an LDAP library. However, sometimes it’s simpler to just script the <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span> command-line <span id="ITerm129">tool</span> to do your work. Consider the following example in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC19">2-15</a></span>, which creates an LDIF file based on the first letter of the person’s last name.<div class="ProgramCode" id="PC19"><div class="LineGroup"><div class="FixedLine">#!/usr/bin/python</div></div><div class="LineGroup"><div class="FixedLine">import os</div><div class="FixedLine">import string</div></div><div class="LineGroup"><div class="FixedLine">ldapsearch_cmd = "/opt/opendj/bin/ldapsearch"</div><div class="FixedLine">network_args = "-h localhost -p 1636 -Z -X"</div><div class="FixedLine">bind_args = '-D "cn=directory manager" -j /root/.pw'</div><div class="FixedLine">base = "-b 'ou=people,o=@!3919.2D9C.DCCB.3133!0001!3540.15DD,o=gluu'"</div><div class="FixedLine">scope = "-s one"</div><div class="FixedLine">attrs = "dn objectclass"</div></div><div class="LineGroup"><div class="FixedLine">for c in string.ascii_lowercase:</div><div class="FixedLine">cmd = [ldapsearch_cmd,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;network_args,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bind_args,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scope,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"sn=%s*" % c,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrs,</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&gt; %s.ldif" % c]</div><div class="FixedLine">os.system(" ".join(cmd))</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-15</span><p class="SimplePara">Sample Script to Gather <span id="ITerm130">Data</span></p></div></div></div></div><p class="Para" id="Par126">This script is a simple shell script—it could even be written in Bash. Now that you have the data, how do you read it in from LDAP and do something with it?</p><div class="Para" id="Par127">LDAP is particularly easy to synchronize across vendor implementations because there is a standard format for rendering data, LDIF. One handy tool is the LDIF module in Python LDAP. Many Linux distributions have packages for <span id="ITerm131">
              <span class="EmphasisFontCategoryNonProportional ">python-ldap</span>
              
            </span><span id="ITerm132">
              
              
              
            </span>. If not, you can download the source from the website at <span class="ExternalRef"><a href="https://www.python-ldap.org/"><span class="RefSource">
                <span class="EmphasisFontCategoryNonProportional ">https://www.python-ldap.org</span>
              </span></a></span>. Note that <span class="EmphasisFontCategoryNonProportional ">ldif.py</span> is a standalone library with no dependencies. You can just copy it into the folder in which you’re working. There are many other libraries to convert <span class="EmphasisFontCategoryNonProportional ">ldif</span> into native data structures. Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC20">2-16</a></span> is a quick example of a <span id="ITerm133">
              <span class="EmphasisFontCategoryNonProportional ">python-ldap</span>
              
              
              
            </span><span id="ITerm134">
              
            </span> program that reads an LDIF file, performs some minimal data normalization, hashes the value, and prints the result.<div class="ProgramCode" id="PC20"><div class="LineGroup"><div class="FixedLine">#!/usr/bin/python</div></div><div class="LineGroup"><div class="FixedLine">import hashlib</div><div class="FixedLine">string</div><div class="FixedLine">from ldif import LDIFParser</div></div><div class="LineGroup"><div class="FixedLine">test_ldif = """</div><div class="FixedLine">dn: uid=foo,ou=people,dc=example,dc=com</div><div class="FixedLine">objectclass: top</div><div class="FixedLine">objectclass: person</div><div class="FixedLine">cn: Foo</div><div class="FixedLine">sn: Foo</div><div class="FixedLine">uid: foo</div></div><div class="LineGroup"><div class="FixedLine">dn: uid=bar,ou=people,dc=example,dc=com</div><div class="FixedLine">objectclass: top</div><div class="FixedLine">objectclass: person</div><div class="FixedLine">cn: Bar</div><div class="FixedLine">sn: Bar</div><div class="FixedLine">uid: bar</div></div><div class="LineGroup"><div class="FixedLine">dn: uid=baz,ou=people,dc=example,dc=com</div><div class="FixedLine">objectclass: top</div><div class="FixedLine">objectclass: person</div><div class="FixedLine">cn: Baz</div><div class="FixedLine">sn: Baz</div><div class="FixedLine">uid: baz</div></div><div class="LineGroup"><div class="FixedLine">"""</div></div><div class="LineGroup"><div class="FixedLine"># Create test file</div><div class="FixedLine">f = open("test.ldif", "w")</div><div class="FixedLine">f.write(test_ldif)</div><div class="FixedLine">f.close()</div></div><div class="LineGroup"><div class="FixedLine">class MyLDIF(LDIFParser):</div><div class="FixedLine">def __init__(self, input, output):</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;LDIFParser.__init__(self, input)</div></div><div class="LineGroup"><div class="FixedLine">def handle(self, dn, entry):</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;s = ""</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;attrs = entry.keys()</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;attrs.sort()</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;attrs = map(string.lower, attrs)</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;for attr in entry.keys():</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val = entry[attr]</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val.sort()</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s = s + "%s:%s\n" % (attr, val)</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;hash = hashlib.sha224(s).hexdigest()</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;&nbsp;print "%s:%s" % (entry['uid'][0], hash)</div></div><div class="LineGroup"><div class="FixedLine">parser = MyLDIF(open("test.ldif", 'rb'), None)</div><div class="FixedLine">parser.parse()<span id="ITerm135">
                    
                    
                    
                  </span></div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-16</span><p class="SimplePara">Sample Python Script to Hash LDIF <span id="ITerm136">Data</span></p></div></div></div></div><div class="Para" id="Par128">Excluding writing the LDIF file, this program is only 16 lines long! It’s more like a haiku than a novel. Most of the action happens in the <span class="EmphasisFontCategoryNonProportional ">handle</span> method<span id="ITerm137">
              
              
              
            </span> of the class. That method is called once for each LDIF entry in the file. Let’s say you detect an entry that needs to be changed. You can also use the LDIF module to create LDIF or even generate modify operations. Consider the following simple example in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC21">2-17</a></span> that takes an entry in Python LDAP format and outputs it to LDIF.<div class="ProgramCode" id="PC21"><div class="LineGroup"><div class="FixedLine">#!/usr/bin/python</div></div><div class="LineGroup"><div class="FixedLine">import ldif, sys</div></div><div class="LineGroup"><div class="FixedLine">entry={'objectClass':['top','person'],</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;'cn':['Foo Bar'],</div><div class="FixedLine">&nbsp;&nbsp;&nbsp;'sn':['Bar']}</div><div class="FixedLine">dn='cn=Foo Bar,o=example.com'</div><div class="FixedLine">ldif_writer=ldif.LDIFWriter(sys.stdout)</div><div class="FixedLine">ldif_writer.unparse(dn,entry)</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-17</span><p class="SimplePara">Sample Python Script to Print <span id="ITerm138">LDIF</span></p></div></div></div></div><div class="Para" id="Par129">This has the output shown in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC22">2-18</a></span>.<div class="ProgramCode" id="PC22"><div class="LineGroup"><div class="FixedLine">dn: cn=Foo Bar,o=example.com</div><div class="FixedLine">cn: Foo Bar</div><div class="FixedLine">objectClass: top</div><div class="FixedLine">objectClass: person</div><div class="FixedLine">sn: Bar</div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-18</span><p class="SimplePara">Sample Output from Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC21">2-17</a></span></p></div></div></div></div><p class="Para" id="Par130">Believe it or not, with these basic <span id="ITerm139">ideas</span>, you can build your own synchronization system. It’s a low-tech approach, but sometimes the solutions for synchronization are just too complicated for the task at hand. At those times, it’s beneficial to understand the basics and know that if you need to build rather than buy, there are options. You can simply use command-line tools like <span id="ITerm140">
              <span class="EmphasisFontCategoryNonProportional ">ldapsearch</span>
              
            </span>, <span id="ITerm141">
              <span class="EmphasisFontCategoryNonProportional ">ldapmodify</span>
              
            </span>, and <span id="ITerm142">
              <span class="EmphasisFontCategoryNonProportional ">ldapdelete</span>
              
            </span> and do a little hashing and text processing.</p></section><section class="Section1 RenderAsSection1" id="Sec32"><h2 class="Heading">Gluu Server Cache Refresh</h2><div class="Para" id="Par131">If you’re looking for a shortcut, and the identities you need to synchronize are primarily located in LDAP data stores, the oxTrust component of the Gluu Server is a handy tool you can use to configure an internal data mart. It uses the hash and set operation strategy outlined previously by creating snapshot files in a folder. If you examine these files, you’ll see a map of primary keys and hash values. oxTrust also uses an LDAP database to track the mapping between primary keys in the Gluu Server LDAP <span id="ITerm143">Server</span><span id="ITerm144">
              
              
            </span> and in backend LDAP repositories. The oxTrust approach has some nice built-in capabilities:<div class="UnorderedList"><ul class="UnorderedListMarkBullet"><li><p class="Para" id="Par132">Attribute name mapping—Use this if you just need to change the name of one attribute in your source LDAP Server to another attribute in the Gluu Server LDAP Server. For example, maybe you have an attribute called <span class="EmphasisFontCategoryNonProportional ">samAccountName</span> in Active Directory, but you want to use <span class="EmphasisFontCategoryNonProportional ">uid</span> in the data mart.</p></li><li><p class="Para" id="Par133">Attribute creation or value transformation—Using the cache refresh custom interception script, you can add new attributes or adjust the value of existing attributes. A good example of this is <span class="EmphasisFontCategoryNonProportional ">eduPersonScopedAffiliation</span>—an attribute used in the higher education industry that rarely exists in the correct format in the source LDAP Server. However, it can be calculated algorithmically at most institutions. Another use case for value transformation is calling an API to pull in data from another data store—perhaps an API that exposes data from a relational database.</p></li><li><p class="Para" id="Par134">Filtering—You can configure global LDAP filters. For example, perhaps you want to filter out all people who do not have attribute <span class="EmphasisFontCategoryNonProportional ">status=active</span>. You can also filter easily on objectclasses.</p></li><li><p class="Para" id="Par135">Scheduling—oxTrust includes a service scheduler, so you can control how often the synchronization process runs.</p></li><li><p class="Para" id="Par136">Logs—There are logs for both persistence and when the scheduled process runs.</p></li></ul></div></div><p class="Para" id="Par137">One thing to watch out for is that you only want to run oxTrust cache refresh on one server at a time. Otherwise, the source LDAP <span id="ITerm145">Servers</span><span id="ITerm146">
              
              
            </span> will have to handle extra requests, and simultaneous updates to the same entries will probably lead to replication collisions. If you’re running a cluster of oxTrust servers, you can configure the IP address of the server on which you want to run the process to avoid this situation.</p><p class="Para" id="Par138">Configuring oxTrust is accomplished via the web user interface. There are several forms you need to configure it—refer to the Gluu Server documentation.</p></section><section class="Section1 RenderAsSection1" id="Sec33"><h2 class="Heading">LSC—LDAP Synchronization Connector</h2><p class="Para" id="Par139">One tool you may consider for LDAP synchronization is <span id="ITerm147">LSC</span>, a Java application that uses XML files to define mapping and synchronization rules. The website for this project can be found at <span class="ExternalRef"><a href="https://lsc-project.org/"><span class="RefSource">
                <span class="EmphasisFontCategoryNonProportional ">https://lsc-project.org</span>
              </span></a></span>. One of the nicest features is that it supports connectors to relational database sources. There are not a lot of free open source tools in this area, so this promising tool seemed worthy of honorable mention. It could provide a head start to your synchronization project, but it may take some customization work to get it to do what you need.</p></section><section class="Section1 RenderAsSection1" id="Sec34"><h2 class="Heading">LDAP Proxy</h2><div class="Para" id="Par140">Vertically scaling means adding more memory and CPUs and increasing your storage speed. This will only get you so far. If your directory service gets large enough, you may want to horizontally scale—break up the data into smaller sets and use a cluster of smaller, cheaper servers. This has another tangible advantage—it reduces replication traffic. The only open source server that currently offers proxy capabilities is OpenLDAP. Without getting too deep into a discussion of OpenLDAP configuration, Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC23">2-19</a></span> shows a sample configuration file that may help point you in the right direction, if this is something you need to do. In this example in Listing <span class="InternalRef"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#PC23">2-19</a></span>, there are three LDAP Servers, each holding one third of the entries. In addition to proxying, OpenLDAP is also caching some of the results to speed up performance. For more information on this configuration, you should read the documentation on the slapd-meta backend.<div class="ProgramCode" id="PC23"><div class="LineGroup"><div class="FixedLine">################################################</div><div class="FixedLine">moduleload&nbsp;&nbsp;back_mdb.la</div><div class="FixedLine">moduleload&nbsp;&nbsp;back_meta.la</div><div class="FixedLine">moduleload&nbsp;&nbsp;pcache.la</div></div><div class="LineGroup"><div class="FixedLine">...</div></div><div class="LineGroup"><div class="FixedLine">database meta</div><div class="FixedLine">suffix "dc=foo,dc=net"</div></div><div class="LineGroup"><div class="FixedLine">uri "ldap://:10389/dc=foo,dc=net"</div><div class="FixedLine">filter "(cn=[a-i]*)"</div><div class="FixedLine">rewriteEngine on</div><div class="FixedLine">suffixmassage "cn=Manager,dc=foo,dc=net" "dc=foo,dc=net"</div><div class="FixedLine">rootdn cn=Manager,dc=foo,dc=net</div><div class="FixedLine">rootpw secret</div><div class="FixedLine">idassert-bind bindmethod=simple</div><div class="FixedLine">credentials=secret</div><div class="FixedLine">binddn="cn=Manager,dc=foo,dc=net"</div></div><div class="LineGroup"><div class="FixedLine">uri "ldap://:20389/dc=foo,dc=net"</div><div class="FixedLine">filter "(cn=[j-r]*)"</div><div class="FixedLine">suffixmassage "cn=Manager,dc=foo,dc=net" "dc=foo,dc=net"</div><div class="FixedLine">rootdn cn=Manager,dc=foo,dc=net</div><div class="FixedLine">rootpw secret</div><div class="FixedLine">idassert-bind bindmethod=simple</div><div class="FixedLine">&nbsp;&nbsp;credentials=secret</div><div class="FixedLine">&nbsp;&nbsp;binddn="cn=Manager,dc=foo,dc=net"</div></div><div class="LineGroup"><div class="FixedLine">uri "ldap://:30389/dc=foo,dc=net"</div><div class="FixedLine">filter "(cn=[s-z]*)"</div><div class="FixedLine">suffixmassage "cn=Manager,dc=foo,dc=net" "dc=foo,dc=net"</div><div class="FixedLine">rootdn cn=Manager,dc=foo,dc=net</div><div class="FixedLine">rootpw secret</div><div class="FixedLine">idassert-bind bindmethod=simple</div><div class="FixedLine">credentials=secret</div><div class="FixedLine">binddn="cn=Manager,dc=foo,dc=net"</div></div><div class="LineGroup"><div class="FixedLine">overlay pcache</div><div class="FixedLine">pcache mdb 150000 2 150000 500</div><div class="FixedLine">directory /var/symas/openldap-data/pcache.foo.net</div><div class="FixedLine">index default eq</div><div class="FixedLine">index objectClass</div><div class="FixedLine">index cn eq,sub</div></div><div class="LineGroup"><div class="FixedLine">pcacheMaxQueries 999999</div><div class="FixedLine">pcacheOffline false</div><div class="FixedLine">pcachePersist true</div></div><div class="LineGroup"><div class="FixedLine">pcacheAttrset 0 cn objectClass</div><div class="FixedLine">pcacheTemplate (cn=) 0 3600<span id="ITerm148">
                    
                    
                  </span><span id="ITerm149">
                    
                  </span></div></div><div class="Caption" lang="en"><div class="CaptionContent"><span class="CaptionNumber">Listing 2-19</span><p class="SimplePara">
                    <span id="ITerm150">OpenLDAP Proxy Configuration</span>
                    <span id="ITerm151">
                      
                    </span>
                  </p></div></div></div></div></section><section class="Section1 RenderAsSection1" id="Sec35"><h2 class="Heading">Conclusion</h2><p class="Para" id="Par141">You can find many more guides on the Internet to help you complete your journey, but hopefully this overview of LDAP gave you a good idea of the “known unknowns”. The only way you get good at LDAP is to get some hands-on experience moving data around and actually operating an LDAP Server. Once you get the hang of LDAP, it’s fun!</p></section></div><div class="annotator-outer annotator-viewer viewer annotator-hide">
  <ul class="annotator-widget annotator-listing"></ul>
</div><div class="annotator-modal-wrapper annotator-editor-modal annotator-editor annotator-hide">
	<div class="annotator-outer editor">
		<h2 class="title">Highlight</h2>
		<form class="annotator-widget">
			<ul class="annotator-listing">
			<li class="annotator-item"><textarea id="annotator-field-0" placeholder="Add a note using markdown (optional)" class="js-editor" maxlength="750"></textarea></li></ul>
			<div class="annotator-controls">
				<a class="link-to-markdown" href="https://daringfireball.net/projects/markdown/basics" target="_blank">?</a>
				<ul>
					<li class="delete annotator-hide"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#delete" class="annotator-delete-note button positive">Delete Note</a></li>
					<li class="save"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#save" class="annotator-save annotator-focus button positive">Save Note</a></li>
					<li class="cancel"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#cancel" class="annotator-cancel button">Cancel</a></li>
				</ul>
			</div>
		</form>
	</div>
</div><div class="annotator-modal-wrapper annotator-delete-confirm-modal" style="display: none;">
  <div class="annotator-outer">
    <h2 class="title">Highlight</h2>
      <a class="js-close-delete-confirm annotator-cancel close" href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#close">Close</a>
      <div class="annotator-widget">
         <div class="delete-confirm">
            Are you sure you want to permanently delete this note?
         </div>
         <div class="annotator-controls">
            <a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#cancel" class="annotator-cancel button js-cancel-delete-confirm">No, I changed my mind</a>
            <a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#delete" class="annotator-delete button positive js-delete-confirm">Yes, delete it</a>
         </div>
       </div>
   </div>
</div><div class="annotator-adder" style="display: none;">
	<ul class="adders">
		
		<li class="copy"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#">Copy</a></li>
		
		<li class="add-highlight"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#">Add Highlight</a></li>
		<li class="add-note"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#">
			Add Note
		</a></li>
		
	</ul>
</div></div></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_1_Chapter.xhtml" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">1.&nbsp;Introduction</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_3_Chapter.xhtml" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">3.&nbsp;SAML</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>



          
          
  




    
    
      

    
    



        
      </div>
      
        



<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"agent":"","applicationID":"172641827,79672898,93931619","applicationTime":469,"transactionName":"YgdaZ0NSW0cEB0RdWltNfkZfUEFdCgofXFBHDVYdR1pQQxZeRl1QQj1aWkU=","errorBeacon":"bam.nr-data.net","licenseKey":"510f1a6865","queueTime":4,"beacon":"bam.nr-data.net"}</script>

      
    
    <script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource" charset="utf-8"></script>
    <script src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource(1)" charset="utf-8"></script>
  

<div></div><div></div><div class="annotator-notice"></div><div class="font-flyout" style="top: 201.001px; left: 1150.33px;"><div class="font-controls-panel">
	<div class="nightmodes">
		<ul>
			<li class="day"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#" id="day-mode" title="Day Mode">
				<i class="fa fa-sun-o"></i>
				<span>Day Mode</span></a></li>
			<li class="cloudy"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#" id="cloudy-mode" title="Cloudy Mode">
				<i class="fa fa-cloud"></i>
				<span>Cloud Mode</span>
			</a></li>
			<li class="night"><a href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#" id="night-mode" title="Night Mode">
				<i class="fa fa-moon-o"></i>
				<span>Night Mode</span>
			</a></li>
		</ul>
	</div>

	<div class="font-resizer resizer">
		<div class="draggable-containment-wrapper">
			<i class="fa fa-font left"></i>
			<span class="filler" style="width: 50%;"></span>
			<div id="js-font-size-draggable" class="draggable ui-widget-content ui-draggable ui-draggable-handle" style="position: relative; left: 80px;"></div>
			<i class="fa fa-font right"></i>
		</div>
	</div>

	<div class="column-resizer resizer">
		<div class="draggable-containment-wrapper">
			<i class="fa fa-compress left"></i>
			<span class="filler" style="width: 50%;"></span>
			<div id="js-column-size-draggable" class="draggable ui-widget-content ui-draggable ui-draggable-handle" style="position: relative; left: 80px;"></div>
			<i class="fa fa-expand right"></i>
		</div>
	</div>

	<a id="reset" class="button" href="https://learning.oreilly.com/library/view/securing-the-perimeter/9781484226018/html/425975_1_En_2_Chapter.xhtml#">Reset</a>
</div>
</div><script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","1732687426968531");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1732687426968531&amp;ev=PageView&amp;noscript=1"></noscript><script type="text/javascript" id="">(function(){window.medalliaUserIdentifier=document.documentElement.dataset.userUuid;window.medalliaUserName=document.documentElement.dataset.username})();</script>
<script type="text/javascript" id="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/embed.js"></script>
<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","443792972845831");fbq("set","agent","tmgoogletagmanager","443792972845831");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=443792972845831&amp;ev=PageView&amp;noscript=1"></noscript>

<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","443792972845831");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=443792972845831&amp;ev=PageView&amp;noscript=1"></noscript>
<script type="text/javascript" id="">window._pp=window._pp||[];if("\/library\/view\/securing-the-perimeter\/9781484226018\/html\/425975_1_En_2_Chapter.xhtml"=="/confirmation/nnv/"&&""=="https://learning.oreilly.com/register/")_pp.targetUrl="/confirm/trial";else if("\/library\/view\/securing-the-perimeter\/9781484226018\/html\/425975_1_En_2_Chapter.xhtml"=="/confirmation/nv/"&&""=="https://learning.oreilly.com/subscribe/")_pp.targetUrl="/confirm/paid";else if("\/library\/view\/securing-the-perimeter\/9781484226018\/html\/425975_1_En_2_Chapter.xhtml"=="/confirmation/nnv/"&&""=="https://learning.oreilly.com/signup/")_pp.targetUrl="/confirm/paid";_pp.siteId="2508";
_pp.siteUId="39a88cd5-54f5-4d61-aec6-7884d06dfba1";_pp.orderValue="undefined";_pp.orderId="undefined";(function(){var ppjs=document.createElement("script");ppjs.type="text/javascript";ppjs.async=true;ppjs.src=("https:"==document.location.protocol?"https:":"http:")+"//cdn.pbbl.co/r/"+_pp.siteId+".js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ppjs,s)})();</script><iframe id="nr-ext-rsicon" style="position: absolute; display: none; width: 50px; height: 50px; z-index: 2147483647; border-style: none; background: transparent;" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/saved_resource(5).html"></iframe><div style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon0.4170468555340292"><img style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon0.26451483837508594" width="0" height="0" alt="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/0"></div><iframe height="0" width="0" frameborder="0" style="display: none;" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/pp.html"></iframe><script type="text/javascript" async="" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/generic1585109433606.js" charset="UTF-8"></script><span></span><div style="display: none; visibility: hidden;"><script>(function(){if(null!==document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]')&&void 0!==document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]')){var a=!1;window.addEventListener("blur",function(){a&&dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"facebook",eventVal:0,nonInteraction:0})});document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]').addEventListener("mouseover",function(){window.focus();
a=!0});document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]').addEventListener("mouseout",function(){a=!1})}if(null!==document.querySelector("iframe.twitter-share-button")&&void 0!==document.querySelector("iframe.twitter-share-button")){var b=!1;window.addEventListener("blur",function(){b&&dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"twitter",eventVal:0,nonInteraction:0})});document.querySelector("iframe.twitter-share-button").addEventListener("mouseover",
function(){window.focus();b=!0});document.querySelector("iframe.twitter-share-button").addEventListener("mouseout",function(){b=!1})}try{window.twttr=function(a,b,d){var c,e=a.getElementsByTagName(b)[0];if(!a.getElementById(d))return a=a.createElement(b),a.id=d,a.src="//platform.twitter.com/widgets.js",e.parentNode.insertBefore(a,e),window.twttr||(c={_e:[],ready:function(a){c._e.push(a)}})}(document,"script","twitter-wjs"),twttr.ready(function(a){a.events.bind("tweet",trackTwitter)})}catch(c){}})();
null!==document.querySelector(".IN-widget")&&void 0!==document.querySelector(".IN-widget")&&document.querySelector(".IN-widget").addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"linkedin",eventVal:0,nonInteraction:0})});
function trackTwitter(a){a&&(a.target&&"IFRAME"==a.target.nodeName&&(opt_target=extractParamFromUri(a.target.src,"url")),dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"twitter",eventVal:0,nonInteraction:0}))}function extractParamFromUri(a,b){if(a&&(b=new RegExp("[\\?\x26#]"+b+"\x3d([^\x26#]*)"),a=b.exec(a),null!=a))return unescape(a[1])};</script></div><script type="text/javascript" id="">function forceInputUppercase(a){var b=a.target.selectionStart,c=a.target.selectionEnd;a.target.value=a.target.value.toUpperCase();a.target.setSelectionRange(b,c)}void 0!=document.getElementById("id_promotion")&&null!=document.getElementById("id_promotion")&&document.getElementById("id_promotion").addEventListener("keyup",forceInputUppercase,!1);
void 0!=document.getElementsByName("promotionCode")[0]&&null!=document.getElementsByName("promotionCode")[0]&&document.getElementsByName("promotionCode")[0].addEventListener("keyup",forceInputUppercase,!1);</script><script type="text/javascript" id="">var nonwExpandable=document.querySelectorAll(".orm-ff-NavigationSubnav-headerListItem a, .orm-ff-NavigationView-headerListItem a");nonwExpandable.forEach(function(a,b){b+1!=nonwExpandable.length?a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.childNodes[1].textContent})}):b+1==nonwExpandable.length&&a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"user login",eventAct:"logout",eventLbl:"global nav | unified"})})});
var nonwExpandableFo=document.querySelectorAll(".drop-content li:not(.flyout-parent) a");
nonwExpandableFo.forEach(function(a,b){"drop-content"==a.parentNode.parentNode.parentNode.className&&b+1!=nonwExpandableFo.length?a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.childNodes[1].textContent})}):"drop-content"==a.parentNode.parentNode.parentNode.className&&b+1==nonwExpandableFo.length&&a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"user login",eventAct:"logout",eventLbl:"global nav | unified"})})});
var expandable=document.querySelectorAll(".orm-ff-NavigationSubnav-toggleControls a, .orm-ff-NavigationView-toggleControls a");expandable.forEach(function(a){a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.parentNode.parentNode.parentNode.querySelectorAll(".orm-Button-btnContentWrap span")[0].childNodes[1].textContent+" | "+a.textContent})})});var flyoutLinks=document.querySelectorAll(".flyout a");
flyoutLinks.forEach(function(a){a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.closest("li.flyout-parent").getElementsByTagName("a")[0].textContent+" | "+a.textContent})})});</script><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./2. LDAP - Securing the Perimeter_ Deploying Identity and Access Management with Free Open Source Software_files/widget_iframe.d0f13be8321eb432fba28cfc1c3351b1.html" title="Twitter settings iframe" style="display: none;"></iframe><div id="eJOY__extension_root" style="all: unset;"></div></body><div class="XTranslate"></div></html>